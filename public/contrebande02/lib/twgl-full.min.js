/*!
 * @license twgl.js 5.5.3 Copyright (c) 2015, Gregg Tavares All Rights Reserved.
 * Available via the MIT license.
 * see: http://github.com/greggman/twgl.js for details
 */
!function(t,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.twgl=r():t.twgl=r()}("undefined"!=typeof self?self:this,(function(){return function(t){var r={};function e(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:n})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,r){if(1&r&&(t=e(t)),8&r)return t;if(4&r&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var o in t)e.d(n,o,function(r){return t[r]}.bind(null,o));return n},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},e.p="",e(e.s=8)}([function(t,r,e){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}r.__esModule=!0,r.copyExistingProperties=function(t,r){Object.keys(r).forEach((function(e){r.hasOwnProperty(e)&&t.hasOwnProperty(e)&&(r[e]=t[e])}))},r.copyNamedProperties=function(t,r,e){t.forEach((function(t){var n=r[t];void 0!==n&&(e[t]=n)}))},r.error=function(){var t;(t=console).error.apply(t,arguments)},r.isBuffer=function(t,r){return"undefined"!=typeof WebGLBuffer&&u(r,"WebGLBuffer")},r.isRenderbuffer=function(t,r){return"undefined"!=typeof WebGLRenderbuffer&&u(r,"WebGLRenderbuffer")},r.isSampler=function(t,r){return"undefined"!=typeof WebGLSampler&&u(r,"WebGLSampler")},r.isShader=function(t,r){return"undefined"!=typeof WebGLShader&&u(r,"WebGLShader")},r.isTexture=function(t,r){return"undefined"!=typeof WebGLTexture&&u(r,"WebGLTexture")},r.warn=function(){var t;(t=console).warn.apply(t,arguments)};var o=new Map;function u(t,r){if(!t||"object"!==n(t))return!1;var e=o.get(r);e||(e=new WeakMap,o.set(r,e));var u=e.get(t);if(void 0===u){var i=Object.prototype.toString.call(t);u=i.substring(8,i.length-1)===r,e.set(t,u)}return u}},function(t,r,e){"use strict";r.__esModule=!0,r.getGLTypeForTypedArray=function(t){if(t instanceof Int8Array)return n;if(t instanceof Uint8Array)return o;if(t instanceof Uint8ClampedArray)return o;if(t instanceof Int16Array)return u;if(t instanceof Uint16Array)return i;if(t instanceof Int32Array)return a;if(t instanceof Uint32Array)return f;if(t instanceof Float32Array)return c;throw new Error("unsupported typed array type")},r.getGLTypeForTypedArrayType=function(t){if(t===Int8Array)return n;if(t===Uint8Array)return o;if(t===Uint8ClampedArray)return o;if(t===Int16Array)return u;if(t===Uint16Array)return i;if(t===Int32Array)return a;if(t===Uint32Array)return f;if(t===Float32Array)return c;throw new Error("unsupported typed array type")},r.getTypedArrayTypeForGLType=function(t){var r=l[t];if(!r)throw new Error("unknown gl type");return r},r.isArrayBuffer=void 0;var n=5120,o=5121,u=5122,i=5123,a=5124,f=5125,c=5126,l={},s=l;s[n]=Int8Array,s[5121]=Uint8Array,s[5122]=Int16Array,s[5123]=Uint16Array,s[a]=Int32Array,s[5125]=Uint32Array,s[5126]=Float32Array,s[32819]=Uint16Array,s[32820]=Uint16Array,s[33635]=Uint16Array,s[5131]=Uint16Array,s[33640]=Uint32Array,s[35899]=Uint32Array,s[35902]=Uint32Array,s[36269]=Uint32Array,s[34042]=Uint32Array;var v="undefined"!=typeof SharedArrayBuffer?function(t){return t&&t.buffer&&(t.buffer instanceof ArrayBuffer||t.buffer instanceof SharedArrayBuffer)}:function(t){return t&&t.buffer&&t.buffer instanceof ArrayBuffer};r.isArrayBuffer=v},function(t,r,e){"use strict";r.__esModule=!0,r.add=function(t,r,e){return(e=e||new n(3))[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e},r.copy=function(t,r){return(r=r||new n(3))[0]=t[0],r[1]=t[1],r[2]=t[2],r},r.create=function(t,r,e){var o=new n(3);t&&(o[0]=t);r&&(o[1]=r);e&&(o[2]=e);return o},r.cross=function(t,r,e){e=e||new n(3);var o=t[2]*r[0]-t[0]*r[2],u=t[0]*r[1]-t[1]*r[0];return e[0]=t[1]*r[2]-t[2]*r[1],e[1]=o,e[2]=u,e},r.distance=function(t,r){var e=t[0]-r[0],n=t[1]-r[1],o=t[2]-r[2];return Math.sqrt(e*e+n*n+o*o)},r.distanceSq=function(t,r){var e=t[0]-r[0],n=t[1]-r[1],o=t[2]-r[2];return e*e+n*n+o*o},r.divScalar=function(t,r,e){return(e=e||new n(3))[0]=t[0]/r,e[1]=t[1]/r,e[2]=t[2]/r,e},r.divide=function(t,r,e){return(e=e||new n(3))[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e},r.dot=function(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]},r.length=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2])},r.lengthSq=function(t){return t[0]*t[0]+t[1]*t[1]+t[2]*t[2]},r.lerp=function(t,r,e,o){return(o=o||new n(3))[0]=t[0]+e*(r[0]-t[0]),o[1]=t[1]+e*(r[1]-t[1]),o[2]=t[2]+e*(r[2]-t[2]),o},r.lerpV=function(t,r,e,o){return(o=o||new n(3))[0]=t[0]+e[0]*(r[0]-t[0]),o[1]=t[1]+e[1]*(r[1]-t[1]),o[2]=t[2]+e[2]*(r[2]-t[2]),o},r.max=function(t,r,e){return(e=e||new n(3))[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e},r.min=function(t,r,e){return(e=e||new n(3))[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e},r.mulScalar=function(t,r,e){return(e=e||new n(3))[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e},r.multiply=function(t,r,e){return(e=e||new n(3))[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e},r.negate=function(t,r){return(r=r||new n(3))[0]=-t[0],r[1]=-t[1],r[2]=-t[2],r},r.normalize=function(t,r){r=r||new n(3);var e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],o=Math.sqrt(e);o>1e-5?(r[0]=t[0]/o,r[1]=t[1]/o,r[2]=t[2]/o):(r[0]=0,r[1]=0,r[2]=0);return r},r.setDefaultType=function(t){var r=n;return n=t,r},r.subtract=function(t,r,e){return(e=e||new n(3))[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e};var n=Float32Array},function(t,r,e){"use strict";r.__esModule=!0,r.glEnumToString=void 0,r.isWebGL1=function(t){return!t.texStorage2D},r.isWebGL2=function(t){return!!t.texStorage2D};var n,o,u=(n={},o={},function(t,r){return function(t){var r=t.constructor.name;if(!n[r]){for(var e in t)if("number"==typeof t[e]){var u=o[t[e]];o[t[e]]=u?"".concat(u," | ").concat(e):e}n[r]=!0}}(t),o[r]||("number"==typeof r?"0x".concat(r.toString(16)):r)});r.glEnumToString=u},function(t,r,e){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}r.__esModule=!0,r.bindTransformFeedbackInfo=dt,r.bindUniformBlock=xt,r.createAttributeSetters=Et,r.createProgram=rt,r.createProgramAsync=void 0,r.createProgramFromScripts=function(t,r,e,n,o){var u,i=Z(e,n,o),a=[],f=m(r);try{for(f.s();!(u=f.n()).done;){var c=u.value,l=F(c);if(!l)return K(i,"unknown script element: ".concat(c));a.push(l.text)}}catch(t){f.e(t)}finally{f.f()}return rt(t,a,i)},r.createProgramFromSources=lt,r.createProgramInfo=_t,r.createProgramInfoAsync=void 0,r.createProgramInfoFromProgram=St,r.createProgramInfos=Pt,r.createProgramInfosAsync=void 0,r.createPrograms=gt,r.createProgramsAsync=void 0,r.createTransformFeedback=function(t,r,e){var n=t.createTransformFeedback();return t.bindTransformFeedback(36386,n),t.useProgram(r.program),dt(t,r,e),t.bindTransformFeedback(36386,null),n},r.createTransformFeedbackInfo=mt,r.createUniformBlockInfo=function(t,r,e){return wt(t,r.program,r.uniformBlockSpec,e)},r.createUniformBlockInfoFromProgram=wt,r.createUniformBlockSpecFromProgram=pt,r.createUniformSetters=bt,r.setAttributes=At,r.setBlockUniforms=function(t,r){var e=t.setters;for(var n in r){var o=e[n];if(o){var u=r[n];o(u)}}},r.setBuffersAndAttributes=function(t,r,e){e.vertexArrayObject?t.bindVertexArray(e.vertexArrayObject):(At(r.attribSetters||r,e.attribs),e.indices&&t.bindBuffer(34963,e.indices))},r.setUniformBlock=function(t,r,e){xt(t,r,e)&&t.bufferData(E,e.array,35048)},r.setUniforms=jt,r.setUniformsAndBindTextures=void 0;var o=a(e(3)),u=a(e(0));function i(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,e=new WeakMap;return(i=function(t){return t?e:r})(t)}function a(t,r){if(!r&&t&&t.__esModule)return t;if(null===t||"object"!==n(t)&&"function"!=typeof t)return{default:t};var e=i(r);if(e&&e.has(t))return e.get(t);var o={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var f=u?Object.getOwnPropertyDescriptor(t,a):null;f&&(f.get||f.set)?Object.defineProperty(o,a,f):o[a]=t[a]}return o.default=t,e&&e.set(t,o),o}function f(){f=function(){return t};var t={},r=Object.prototype,e=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},u=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag";function c(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{c({},"")}catch(t){c=function(t,r,e){return t[r]=e}}function l(t,r,e,n){var o=r&&r.prototype instanceof y?r:y,u=Object.create(o.prototype),i=new A(n||[]);return u._invoke=function(t,r,e){var n="suspendedStart";return function(o,u){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw u;return M()}for(e.method=o,e.arg=u;;){var i=e.delegate;if(i){var a=j(i,e);if(a){if(a===v)continue;return a}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if("suspendedStart"===n)throw n="completed",e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);n="executing";var f=s(t,r,e);if("normal"===f.type){if(n=e.done?"completed":"suspendedYield",f.arg===v)continue;return{value:f.arg,done:e.done}}"throw"===f.type&&(n="completed",e.method="throw",e.arg=f.arg)}}}(t,e,i),u}function s(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var v={};function y(){}function b(){}function m(){}var d={};c(d,u,(function(){return this}));var p=Object.getPrototypeOf,h=p&&p(p(S([])));h&&h!==r&&e.call(h,u)&&(d=h);var w=m.prototype=y.prototype=Object.create(d);function x(t){["next","throw","return"].forEach((function(r){c(t,r,(function(t){return this._invoke(r,t)}))}))}function F(t,r){function o(u,i,a,f){var c=s(t[u],t,i);if("throw"!==c.type){var l=c.arg,v=l.value;return v&&"object"==n(v)&&e.call(v,"__await")?r.resolve(v.__await).then((function(t){o("next",t,a,f)}),(function(t){o("throw",t,a,f)})):r.resolve(v).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,f)}))}f(c.arg)}var u;this._invoke=function(t,e){function n(){return new r((function(r,n){o(t,e,r,n)}))}return u=u?u.then(n,n):n()}}function j(t,r){var e=t.iterator[r.method];if(void 0===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=void 0,j(t,r),"throw"===r.method))return v;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var n=s(e,t.iterator,r.arg);if("throw"===n.type)return r.method="throw",r.arg=n.arg,r.delegate=null,v;var o=n.arg;return o?o.done?(r[t.resultName]=o.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,v):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function O(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function E(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function S(t){if(t){var r=t[u];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function r(){for(;++n<t.length;)if(e.call(t,n))return r.value=t[n],r.done=!1,r;return r.value=void 0,r.done=!0,r};return o.next=o}}return{next:M}}function M(){return{value:void 0,done:!0}}return b.prototype=m,c(w,"constructor",m),c(m,"constructor",b),b.displayName=c(m,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===b||"GeneratorFunction"===(r.displayName||r.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,c(t,a,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},x(F.prototype),c(F.prototype,i,(function(){return this})),t.AsyncIterator=F,t.async=function(r,e,n,o,u){void 0===u&&(u=Promise);var i=new F(l(r,e,n,o),u);return t.isGeneratorFunction(e)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},x(w),c(w,a,"Generator"),c(w,u,(function(){return this})),c(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var r=[];for(var e in t)r.push(e);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=S,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var r in this)"t"===r.charAt(0)&&e.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(e,n){return i.type="throw",i.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var u=this.tryEntries[o],i=u.completion;if("root"===u.tryLoc)return n("end");if(u.tryLoc<=this.prev){var a=e.call(u,"catchLoc"),f=e.call(u,"finallyLoc");if(a&&f){if(this.prev<u.catchLoc)return n(u.catchLoc,!0);if(this.prev<u.finallyLoc)return n(u.finallyLoc)}else if(a){if(this.prev<u.catchLoc)return n(u.catchLoc,!0)}else{if(!f)throw new Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return n(u.finallyLoc)}}}},abrupt:function(t,r){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&e.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var u=o;break}}u&&("break"===t||"continue"===t)&&u.tryLoc<=r&&r<=u.finallyLoc&&(u=null);var i=u?u.completion:{};return i.type=t,i.arg=r,u?(this.method="next",this.next=u.finallyLoc,v):this.complete(i)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),v},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),E(e),v}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===t){var n=e.completion;if("throw"===n.type){var o=n.arg;E(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:S(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=void 0),v}},t}function c(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),e.push.apply(e,n)}return e}function l(t){for(var r=1;r<arguments.length;r++){var e=null!=arguments[r]?arguments[r]:{};r%2?c(Object(e),!0).forEach((function(r){s(t,r,e[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):c(Object(e)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}))}return t}function s(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}function v(t,r,e,n,o,u,i){try{var a=t[u](i),f=a.value}catch(t){return void e(t)}a.done?r(f):Promise.resolve(f).then(n,o)}function y(t){return function(){var r=this,e=arguments;return new Promise((function(n,o){var u=t.apply(r,e);function i(t){v(u,n,o,i,a,"next",t)}function a(t){v(u,n,o,i,a,"throw",t)}i(void 0)}))}}function b(t,r){return function(t){if(Array.isArray(t))return t}(t)||function(t,r){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==e)return;var n,o,u=[],i=!0,a=!1;try{for(e=e.call(t);!(i=(n=e.next()).done)&&(u.push(n.value),!r||u.length!==r);i=!0);}catch(t){a=!0,o=t}finally{try{i||null==e.return||e.return()}finally{if(a)throw o}}return u}(t,r)||p(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(t,r){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=p(t))||r&&t&&"number"==typeof t.length){e&&(t=e);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,i=!0,a=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return i=t.done,t},e:function(t){a=!0,u=t},f:function(){try{i||null==e.return||e.return()}finally{if(a)throw u}}}}function d(t){return function(t){if(Array.isArray(t))return h(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||p(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,r){if(t){if("string"==typeof t)return h(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?h(t,r):void 0}}function h(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}var w=u.error,x=u.warn;function F(t){return"undefined"!=typeof document&&document.getElementById?document.getElementById(t):null}var j=33984,O=34962,E=35345,A=5126,S=5124,M=5125,_=3553,T=34067,g=32879,P=35866,R={};function z(t,r){return R[r].bindPoint}function k(t,r){return function(e){t.uniform1i(r,e)}}function U(t,r){return function(e){t.uniform1iv(r,e)}}function C(t,r){return function(e){t.uniform2iv(r,e)}}function W(t,r){return function(e){t.uniform3iv(r,e)}}function I(t,r){return function(e){t.uniform4iv(r,e)}}function L(t,r,e,n){var i=z(0,r);return o.isWebGL2(t)?function(r){var o,a;!r||u.isTexture(t,r)?(o=r,a=null):(o=r.texture,a=r.sampler),t.uniform1i(n,e),t.activeTexture(j+e),t.bindTexture(i,o),t.bindSampler(e,a)}:function(r){t.uniform1i(n,e),t.activeTexture(j+e),t.bindTexture(i,r)}}function G(t,r,e,n,i){for(var a=z(0,r),f=new Int32Array(i),c=0;c<i;++c)f[c]=e+c;return o.isWebGL2(t)?function(r){t.uniform1iv(n,f),r.forEach((function(r,n){var o,i;t.activeTexture(j+f[n]),!r||u.isTexture(t,r)?(o=r,i=null):(o=r.texture,i=r.sampler),t.bindSampler(e,i),t.bindTexture(a,o)}))}:function(r){t.uniform1iv(n,f),r.forEach((function(r,e){t.activeTexture(j+f[e]),t.bindTexture(a,r)}))}}function B(t,r){return function(e){if(e.value)switch(t.disableVertexAttribArray(r),e.value.length){case 4:t.vertexAttrib4fv(r,e.value);break;case 3:t.vertexAttrib3fv(r,e.value);break;case 2:t.vertexAttrib2fv(r,e.value);break;case 1:t.vertexAttrib1fv(r,e.value);break;default:throw new Error("the length of a float constant value must be between 1 and 4!")}else t.bindBuffer(O,e.buffer),t.enableVertexAttribArray(r),t.vertexAttribPointer(r,e.numComponents||e.size,e.type||A,e.normalize||!1,e.stride||0,e.offset||0),t.vertexAttribDivisor&&t.vertexAttribDivisor(r,e.divisor||0)}}function N(t,r){return function(e){if(e.value){if(t.disableVertexAttribArray(r),4!==e.value.length)throw new Error("The length of an integer constant value must be 4!");t.vertexAttrib4iv(r,e.value)}else t.bindBuffer(O,e.buffer),t.enableVertexAttribArray(r),t.vertexAttribIPointer(r,e.numComponents||e.size,e.type||S,e.stride||0,e.offset||0),t.vertexAttribDivisor&&t.vertexAttribDivisor(r,e.divisor||0)}}function X(t,r){return function(e){if(e.value){if(t.disableVertexAttribArray(r),4!==e.value.length)throw new Error("The length of an unsigned integer constant value must be 4!");t.vertexAttrib4uiv(r,e.value)}else t.bindBuffer(O,e.buffer),t.enableVertexAttribArray(r),t.vertexAttribIPointer(r,e.numComponents||e.size,e.type||M,e.stride||0,e.offset||0),t.vertexAttribDivisor&&t.vertexAttribDivisor(r,e.divisor||0)}}function D(t,r,e){var n=e.size,o=e.count;return function(e){t.bindBuffer(O,e.buffer);for(var u=e.size||e.numComponents||n,i=u/o,a=e.type||A,f=R[a].size*u,c=e.normalize||!1,l=e.offset||0,s=f/o,v=0;v<o;++v)t.enableVertexAttribArray(r+v),t.vertexAttribPointer(r+v,i,a,c,f,l+s*v),t.vertexAttribDivisor&&t.vertexAttribDivisor(r+v,e.divisor||0)}}R[5126]={Type:Float32Array,size:4,setter:function(t,r){return function(e){t.uniform1f(r,e)}},arraySetter:function(t,r){return function(e){t.uniform1fv(r,e)}}},R[35664]={Type:Float32Array,size:8,setter:function(t,r){return function(e){t.uniform2fv(r,e)}},cols:2},R[35665]={Type:Float32Array,size:12,setter:function(t,r){return function(e){t.uniform3fv(r,e)}},cols:3},R[35666]={Type:Float32Array,size:16,setter:function(t,r){return function(e){t.uniform4fv(r,e)}},cols:4},R[S]={Type:Int32Array,size:4,setter:k,arraySetter:U},R[35667]={Type:Int32Array,size:8,setter:C,cols:2},R[35668]={Type:Int32Array,size:12,setter:W,cols:3},R[35669]={Type:Int32Array,size:16,setter:I,cols:4},R[5125]={Type:Uint32Array,size:4,setter:function(t,r){return function(e){t.uniform1ui(r,e)}},arraySetter:function(t,r){return function(e){t.uniform1uiv(r,e)}}},R[36294]={Type:Uint32Array,size:8,setter:function(t,r){return function(e){t.uniform2uiv(r,e)}},cols:2},R[36295]={Type:Uint32Array,size:12,setter:function(t,r){return function(e){t.uniform3uiv(r,e)}},cols:3},R[36296]={Type:Uint32Array,size:16,setter:function(t,r){return function(e){t.uniform4uiv(r,e)}},cols:4},R[35670]={Type:Uint32Array,size:4,setter:k,arraySetter:U},R[35671]={Type:Uint32Array,size:8,setter:C,cols:2},R[35672]={Type:Uint32Array,size:12,setter:W,cols:3},R[35673]={Type:Uint32Array,size:16,setter:I,cols:4},R[35674]={Type:Float32Array,size:32,setter:function(t,r){return function(e){t.uniformMatrix2fv(r,!1,e)}},rows:2,cols:2},R[35675]={Type:Float32Array,size:48,setter:function(t,r){return function(e){t.uniformMatrix3fv(r,!1,e)}},rows:3,cols:3},R[35676]={Type:Float32Array,size:64,setter:function(t,r){return function(e){t.uniformMatrix4fv(r,!1,e)}},rows:4,cols:4},R[35685]={Type:Float32Array,size:32,setter:function(t,r){return function(e){t.uniformMatrix2x3fv(r,!1,e)}},rows:2,cols:3},R[35686]={Type:Float32Array,size:32,setter:function(t,r){return function(e){t.uniformMatrix2x4fv(r,!1,e)}},rows:2,cols:4},R[35687]={Type:Float32Array,size:48,setter:function(t,r){return function(e){t.uniformMatrix3x2fv(r,!1,e)}},rows:3,cols:2},R[35688]={Type:Float32Array,size:48,setter:function(t,r){return function(e){t.uniformMatrix3x4fv(r,!1,e)}},rows:3,cols:4},R[35689]={Type:Float32Array,size:64,setter:function(t,r){return function(e){t.uniformMatrix4x2fv(r,!1,e)}},rows:4,cols:2},R[35690]={Type:Float32Array,size:64,setter:function(t,r){return function(e){t.uniformMatrix4x3fv(r,!1,e)}},rows:4,cols:3},R[35678]={Type:null,size:0,setter:L,arraySetter:G,bindPoint:_},R[35680]={Type:null,size:0,setter:L,arraySetter:G,bindPoint:T},R[35679]={Type:null,size:0,setter:L,arraySetter:G,bindPoint:g},R[35682]={Type:null,size:0,setter:L,arraySetter:G,bindPoint:_},R[36289]={Type:null,size:0,setter:L,arraySetter:G,bindPoint:P},R[36292]={Type:null,size:0,setter:L,arraySetter:G,bindPoint:P},R[36293]={Type:null,size:0,setter:L,arraySetter:G,bindPoint:T},R[36298]={Type:null,size:0,setter:L,arraySetter:G,bindPoint:_},R[36299]={Type:null,size:0,setter:L,arraySetter:G,bindPoint:g},R[36300]={Type:null,size:0,setter:L,arraySetter:G,bindPoint:T},R[36303]={Type:null,size:0,setter:L,arraySetter:G,bindPoint:P},R[36306]={Type:null,size:0,setter:L,arraySetter:G,bindPoint:_},R[36307]={Type:null,size:0,setter:L,arraySetter:G,bindPoint:g},R[36308]={Type:null,size:0,setter:L,arraySetter:G,bindPoint:T},R[36311]={Type:null,size:0,setter:L,arraySetter:G,bindPoint:P};var H={};H[5126]={size:4,setter:B},H[35664]={size:8,setter:B},H[35665]={size:12,setter:B},H[35666]={size:16,setter:B},H[S]={size:4,setter:N},H[35667]={size:8,setter:N},H[35668]={size:12,setter:N},H[35669]={size:16,setter:N},H[5125]={size:4,setter:X},H[36294]={size:8,setter:X},H[36295]={size:12,setter:X},H[36296]={size:16,setter:X},H[35670]={size:4,setter:N},H[35671]={size:8,setter:N},H[35672]={size:12,setter:N},H[35673]={size:16,setter:N},H[35674]={size:4,setter:D,count:2},H[35675]={size:9,setter:D,count:3},H[35676]={size:16,setter:D,count:4};var V=/ERROR:\s*\d+:(\d+)/gi;var Y=/^[ \t]*\n/;function q(t){var r=0;return Y.test(t)&&(r=1,t=t.replace(Y,"")),{lineOffset:r,shaderSource:t}}function K(t,r){return t.errorCallback(r),t.callback&&setTimeout((function(){t.callback("".concat(r,"\n").concat(t.errors.join("\n")))})),null}function $(t,r,e,n){if(n=n||w,!t.getShaderParameter(e,35713)){var u=t.getShaderInfoLog(e),i=q(t.getShaderSource(e)),a=i.lineOffset,f=i.shaderSource,c="".concat(function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=d(r.matchAll(V)),o=new Map(n.map((function(t,e){var o=parseInt(t[1]),u=n[e+1],i=u?u.index:r.length;return[o-1,r.substring(t.index,i)]})));return t.split("\n").map((function(t,r){var n=o.get(r);return"".concat(r+1+e,": ").concat(t).concat(n?"\n\n^^^ ".concat(n):"")})).join("\n")}(f,u,a),"\nError compiling ").concat(o.glEnumToString(t,r),": ").concat(u);return n(c),c}return""}function Z(t,r,e){var n,o,u;if("function"==typeof r&&(e=r,r=void 0),"function"==typeof t)e=t,t=void 0;else if(t&&!Array.isArray(t)){var i=t;e=i.errorCallback,t=i.attribLocations,n=i.transformFeedbackVaryings,o=i.transformFeedbackMode,u=i.callback}var a=e||w,f=[],c={errorCallback:function(t){f.push(t);for(var r=arguments.length,e=new Array(r>1?r-1:0),n=1;n<r;n++)e[n-1]=arguments[n];a.apply(void 0,[t].concat(e))},transformFeedbackVaryings:n,transformFeedbackMode:o,callback:u,errors:f},l={};return Array.isArray(t)?t.forEach((function(t,e){l[t]=r?r[e]:e})):l=t||{},c.attribLocations=l,c}var J=["VERTEX_SHADER","FRAGMENT_SHADER"];var Q=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise((function(r){return setTimeout(r,t)}))};function tt(t,r,e){for(var n,o=t.createProgram(),u=Z(e),i=u.attribLocations,a=u.transformFeedbackVaryings,f=u.transformFeedbackMode,c=0;c<r.length;++c){var l=r[c];if("string"==typeof l){var s=F(l),v=s?s.text:l,y=t[J[c]];s&&s.type&&(y=((n=s.type).indexOf("frag")>=0?35632:n.indexOf("vert")>=0?35633:void 0)||y),l=t.createShader(y),t.shaderSource(l,q(v).shaderSource),t.compileShader(l),t.attachShader(o,l)}}Object.entries(i).forEach((function(r){var e=b(r,2),n=e[0],u=e[1];return t.bindAttribLocation(o,u,n)}));var m=a;return m&&(m.attribs&&(m=m.attribs),Array.isArray(m)||(m=Object.keys(m)),t.transformFeedbackVaryings(o,m,f||35981)),t.linkProgram(o),o}function rt(t,r,e,n,o){var u=Z(e,n,o),i=new Set(r),a=tt(t,r,u);function f(t,r){var e=ct(t,r,u.errorCallback);return e&&function(t,r,e){var n,o=m(t.getAttachedShaders(r));try{for(o.s();!(n=o.n()).done;){var u=n.value;e.has(u)&&t.deleteShader(u)}}catch(t){o.e(t)}finally{o.f()}t.deleteProgram(r)}(t,r,i),e}if(!u.callback)return f(t,a)?void 0:a;ut(t,a).then((function(){var r=f(t,a);u.callback(r,r?void 0:a)}))}function et(t){return function(r,e){for(var n=arguments.length,o=new Array(n>2?n-2:0),u=2;u<n;u++)o[u-2]=arguments[u];return new Promise((function(n,u){var i=Z.apply(void 0,o);i.callback=function(t,r){t?u(t):n(r)},t(r,e,i)}))}}var nt=et(rt);r.createProgramAsync=nt;var ot=et(_t);function ut(t,r){return it.apply(this,arguments)}function it(){return(it=y(f().mark((function t(r,e){var n,o,u;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=r.getExtension("KHR_parallel_shader_compile"),o=n?function(t,r){return t.getProgramParameter(r,n.COMPLETION_STATUS_KHR)}:function(){return!0},u=0;case 3:return t.next=5,Q(u);case 5:u=1e3/60;case 6:if(!o(r,e)){t.next=3;break}case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function at(t,r){return ft.apply(this,arguments)}function ft(){return(ft=y(f().mark((function t(r,e){var n,o,u;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=0,o=Object.values(e);case 1:if(!(n<o.length)){t.next=8;break}return u=o[n],t.next=5,ut(r,u);case 5:n++,t.next=1;break;case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ct(t,r,e){if(e=e||w,!t.getProgramParameter(r,35714)){var n=t.getProgramInfoLog(r);e("Error in program linking: ".concat(n));var o=t.getAttachedShaders(r).map((function(r){return $(t,t.getShaderParameter(r,t.SHADER_TYPE),r,e)}));return"".concat(n,"\n").concat(o.filter((function(t){return t})).join("\n"))}}function lt(t,r,e,n,o){return rt(t,r,e,n,o)}function st(t){var r=t.name;return r.startsWith("gl_")||r.startsWith("webgl_")}r.createProgramInfoAsync=ot;var vt=/(\.|\[|]|\w+)/g;function yt(t,r,e,n){for(var o,u=t.split(vt).filter((function(t){return""!==t})),i=0,a="";;){var f=u[i++];a+=f;var c=(o=f[0])>="0"&&o<="9",l=c?parseInt(f):f;if(c&&(a+=u[i++]),i===u.length){e[l]=r;break}var s=u[i++],v="["===s,y=e[l]||(v?[]:{});e[l]=y,e=y,n[a]=n[a]||function(t){return function(r){Ft(t,r)}}(y),a+=s}}function bt(t,r){var e=0;function n(r,n,o){var u,i=n.name.endsWith("[0]"),a=n.type,f=R[a];if(!f)throw new Error("unknown type: 0x".concat(a.toString(16)));if(f.bindPoint){var c=e;e+=n.size,u=i?f.arraySetter(t,a,c,o,n.size):f.setter(t,a,c,o,n.size)}else u=f.arraySetter&&i?f.arraySetter(t,o):f.setter(t,o);return u.location=o,u}for(var o={},u={},i=t.getProgramParameter(r,35718),a=0;a<i;++a){var f=t.getActiveUniform(r,a);if(!st(f)){var c=f.name;c.endsWith("[0]")&&(c=c.substr(0,c.length-3));var l=t.getUniformLocation(r,f.name);if(l){var s=n(0,f,l);o[c]=s,yt(c,s,u,o)}}}return o}function mt(t,r){for(var e={},n=t.getProgramParameter(r,35971),o=0;o<n;++o){var u=t.getTransformFeedbackVarying(r,o);e[u.name]={index:o,type:u.type,size:u.size}}return e}function dt(t,r,e){for(var n in r.transformFeedbackInfo&&(r=r.transformFeedbackInfo),e.attribs&&(e=e.attribs),e){var o=r[n];if(o){var u=e[n];u.offset?t.bindBufferRange(35982,o.index,u.buffer,u.offset,u.size):t.bindBufferBase(35982,o.index,u.buffer)}}}function pt(t,r){for(var e=t.getProgramParameter(r,35718),n=[],o=[],u=0;u<e;++u){o.push(u),n.push({});var i=t.getActiveUniform(r,u);n[u].name=i.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach((function(e){var u=e[0],i=e[1];t.getActiveUniforms(r,o,t[u]).forEach((function(t,r){n[r][i]=t}))}));for(var a={},f=t.getProgramParameter(r,35382),c=0;c<f;++c){var l=t.getActiveUniformBlockName(r,c),s={index:t.getUniformBlockIndex(r,l),usedByVertexShader:t.getActiveUniformBlockParameter(r,c,35396),usedByFragmentShader:t.getActiveUniformBlockParameter(r,c,35398),size:t.getActiveUniformBlockParameter(r,c,35392),uniformIndices:t.getActiveUniformBlockParameter(r,c,35395)};s.used=s.usedByVertexShader||s.usedByFragmentShader,a[l]=s}return{blockSpecs:a,uniformData:n}}var ht=/\[\d+\]\.$/;function wt(t,r,e,n){var o=e.blockSpecs,u=e.uniformData,i=o[n];if(!i)return x("no uniform block object named:",n),{name:n,uniforms:{}};var a=new ArrayBuffer(i.size),f=t.createBuffer(),c=i.index;t.bindBuffer(E,f),t.uniformBlockBinding(r,i.index,c);var l=n+".";ht.test(l)&&(l=l.replace(ht,"."));var s={},v={},y={};return i.uniformIndices.forEach((function(t){var r=u[t],e=r.name;e.startsWith(l)&&(e=e.substr(l.length));var n=e.endsWith("[0]");n&&(e=e.substr(0,e.length-3));var o,i=R[r.type],f=i.Type,c=n?((i.size+((o=16)-1))/o|0)*o*r.size:i.size*r.size,b=new f(a,r.offset,c/f.BYTES_PER_ELEMENT);s[e]=b;var m=function(t,r,e,n){if(r||e){n=n||1;var o=t.length/4;return function(r){for(var e=0,u=0,i=0;i<o;++i){for(var a=0;a<n;++a)t[e++]=r[u++];e+=4-n}}}return function(r){r.length?t.set(r):t[0]=r}}(b,n,i.rows,i.cols);v[e]=m,yt(e,m,y,v)})),{name:n,array:a,asFloat:new Float32Array(a),buffer:f,uniforms:s,setters:v}}function xt(t,r,e){var n=(r.uniformBlockSpec||r).blockSpecs[e.name];if(n){var o=n.index;return t.bindBufferRange(E,o,e.buffer,e.offset||0,e.array.byteLength),!0}return!1}function Ft(t,r){for(var e in r){var n=t[e];"function"==typeof n?n(r[e]):Ft(t[e],r[e])}}function jt(t){for(var r=t.uniformSetters||t,e=arguments.length<=1?0:arguments.length-1,n=0;n<e;++n){var o=n+1<1||arguments.length<=n+1?void 0:arguments[n+1];if(Array.isArray(o))for(var u=o.length,i=0;i<u;++i)jt(r,o[i]);else for(var a in o){var f=r[a];f&&f(o[a])}}}var Ot=jt;function Et(t,r){for(var e={},n=t.getProgramParameter(r,35721),o=0;o<n;++o){var u=t.getActiveAttrib(r,o);if(!st(u)){var i=t.getAttribLocation(r,u.name),a=H[u.type],f=a.setter(t,i,a);f.location=i,e[u.name]=f}}return e}function At(t,r){for(var e in r){var n=t[e];n&&n(r[e])}}function St(t,r){var e={program:r,uniformSetters:bt(t,r),attribSetters:Et(t,r)};return o.isWebGL2(t)&&(e.uniformBlockSpec=pt(t,r),e.transformFeedbackInfo=mt(t,r)),e}r.setUniformsAndBindTextures=Ot;var Mt=/\s|{|}|;/;function _t(t,r,e,n,o){var u=Z(e,n,o),i=[];if(r=r.map((function(t){if(!Mt.test(t)){var r=F(t);if(r)t=r.text;else{var e="no element with id: ".concat(t);u.errorCallback(e),i.push(e)}}return t})),i.length)return K(u,"");var a=u.callback;a&&(u.callback=function(r,e){a(r,r?void 0:St(t,e))});var f=lt(t,r,u);return f?St(t,f):null}function Tt(t,r,e,n,o){for(var u=0,i=Object.entries(r);u<i.length;u++){var a=b(i[u],2),f=a[0],c=a[1],s=l({},o),v=e[f];Array.isArray(v)||Object.assign(s,v);var y=ct(t,c,s.errorCallback);if(y){for(var d=0,p=Object.values(r);d<p.length;d++){var h=p[d],w=t.getAttachedShaders(h);t.deleteProgram(h);var x,F=m(w);try{for(F.s();!(x=F.n()).done;){var j=x.value;n.has(j)||t.deleteShader(j)}}catch(t){F.e(t)}finally{F.f()}}return y}}}function gt(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=new Set,o=Object.fromEntries(Object.entries(r).map((function(r){var o=b(r,2),u=o[0],i=o[1],a=l({},e),f=Array.isArray(i)?i:i.shaders;return Array.isArray(i)||Object.assign(a,i),f.forEach(n.add,n),[u,tt(t,f,a)]})));if(!e.callback){var u=Tt(t,o,r,n,e);return u?void 0:o}at(t,o).then((function(){var u=Tt(t,o,r,n,e);e.callback(u,u?void 0:o)}))}function Pt(t,r,e){function n(t,r){return Object.fromEntries(Object.entries(r).map((function(r){var e=b(r,2),n=e[0],o=e[1];return[n,St(t,o)]})))}var o=(e=Z(e)).callback;o&&(e.callback=function(r,e){o(r,r?void 0:n(t,e))});var u=gt(t,r,e);if(!o&&u)return n(t,u)}var Rt=et(gt);r.createProgramsAsync=Rt;var zt=et(Pt);r.createProgramInfosAsync=zt},function(t,r,e){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}r.__esModule=!0,r.axisRotate=function(t,r,e,n){n=n||new c(16);var o=r[0],u=r[1],i=r[2],a=Math.sqrt(o*o+u*u+i*i),f=(o/=a)*o,l=(u/=a)*u,s=(i/=a)*i,v=Math.cos(e),y=Math.sin(e),b=1-v,m=f+(1-f)*v,d=o*u*b+i*y,p=o*i*b-u*y,h=o*u*b-i*y,w=l+(1-l)*v,x=u*i*b+o*y,F=o*i*b+u*y,j=u*i*b-o*y,O=s+(1-s)*v,E=t[0],A=t[1],S=t[2],M=t[3],_=t[4],T=t[5],g=t[6],P=t[7],R=t[8],z=t[9],k=t[10],U=t[11];n[0]=m*E+d*_+p*R,n[1]=m*A+d*T+p*z,n[2]=m*S+d*g+p*k,n[3]=m*M+d*P+p*U,n[4]=h*E+w*_+x*R,n[5]=h*A+w*T+x*z,n[6]=h*S+w*g+x*k,n[7]=h*M+w*P+x*U,n[8]=F*E+j*_+O*R,n[9]=F*A+j*T+O*z,n[10]=F*S+j*g+O*k,n[11]=F*M+j*P+O*U,t!==n&&(n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15]);return n},r.axisRotation=function(t,r,e){e=e||new c(16);var n=t[0],o=t[1],u=t[2],i=Math.sqrt(n*n+o*o+u*u),a=(n/=i)*n,f=(o/=i)*o,l=(u/=i)*u,s=Math.cos(r),v=Math.sin(r),y=1-s;return e[0]=a+(1-a)*s,e[1]=n*o*y+u*v,e[2]=n*u*y-o*v,e[3]=0,e[4]=n*o*y-u*v,e[5]=f+(1-f)*s,e[6]=o*u*y+n*v,e[7]=0,e[8]=n*u*y+o*v,e[9]=o*u*y-n*v,e[10]=l+(1-l)*s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},r.copy=l,r.create=function(){return new c(16).fill(0)},r.frustum=function(t,r,e,n,o,u,i){i=i||new c(16);var a=r-t,f=n-e,l=o-u;return i[0]=2*o/a,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=2*o/f,i[6]=0,i[7]=0,i[8]=(t+r)/a,i[9]=(n+e)/f,i[10]=u/l,i[11]=-1,i[12]=0,i[13]=0,i[14]=o*u/l,i[15]=0,i},r.getAxis=function(t,r,e){e=e||o.create();var n=4*r;return e[0]=t[n+0],e[1]=t[n+1],e[2]=t[n+2],e},r.getTranslation=function(t,r){return(r=r||o.create())[0]=t[12],r[1]=t[13],r[2]=t[14],r},r.identity=s,r.inverse=v,r.lookAt=function(t,r,e,n){return n=n||new c(16),i=i||o.create(),a=a||o.create(),f=f||o.create(),o.normalize(o.subtract(t,r,f),f),o.normalize(o.cross(e,f,i),i),o.normalize(o.cross(f,i,a),a),n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=0,n[4]=a[0],n[5]=a[1],n[6]=a[2],n[7]=0,n[8]=f[0],n[9]=f[1],n[10]=f[2],n[11]=0,n[12]=t[0],n[13]=t[1],n[14]=t[2],n[15]=1,n},r.multiply=function(t,r,e){e=e||new c(16);var n=t[0],o=t[1],u=t[2],i=t[3],a=t[4],f=t[5],l=t[6],s=t[7],v=t[8],y=t[9],b=t[10],m=t[11],d=t[12],p=t[13],h=t[14],w=t[15],x=r[0],F=r[1],j=r[2],O=r[3],E=r[4],A=r[5],S=r[6],M=r[7],_=r[8],T=r[9],g=r[10],P=r[11],R=r[12],z=r[13],k=r[14],U=r[15];return e[0]=n*x+a*F+v*j+d*O,e[1]=o*x+f*F+y*j+p*O,e[2]=u*x+l*F+b*j+h*O,e[3]=i*x+s*F+m*j+w*O,e[4]=n*E+a*A+v*S+d*M,e[5]=o*E+f*A+y*S+p*M,e[6]=u*E+l*A+b*S+h*M,e[7]=i*E+s*A+m*S+w*M,e[8]=n*_+a*T+v*g+d*P,e[9]=o*_+f*T+y*g+p*P,e[10]=u*_+l*T+b*g+h*P,e[11]=i*_+s*T+m*g+w*P,e[12]=n*R+a*z+v*k+d*U,e[13]=o*R+f*z+y*k+p*U,e[14]=u*R+l*z+b*k+h*U,e[15]=i*R+s*z+m*k+w*U,e},r.negate=function(t,r){return(r=r||new c(16))[0]=-t[0],r[1]=-t[1],r[2]=-t[2],r[3]=-t[3],r[4]=-t[4],r[5]=-t[5],r[6]=-t[6],r[7]=-t[7],r[8]=-t[8],r[9]=-t[9],r[10]=-t[10],r[11]=-t[11],r[12]=-t[12],r[13]=-t[13],r[14]=-t[14],r[15]=-t[15],r},r.ortho=function(t,r,e,n,o,u,i){return(i=i||new c(16))[0]=2/(r-t),i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=2/(n-e),i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=2/(o-u),i[11]=0,i[12]=(r+t)/(t-r),i[13]=(n+e)/(e-n),i[14]=(u+o)/(o-u),i[15]=1,i},r.perspective=function(t,r,e,n,o){o=o||new c(16);var u=Math.tan(.5*Math.PI-.5*t),i=1/(e-n);return o[0]=u/r,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=u,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=(e+n)*i,o[11]=-1,o[12]=0,o[13]=0,o[14]=e*n*i*2,o[15]=0,o},r.rotateX=function(t,r,e){e=e||new c(16);var n=t[4],o=t[5],u=t[6],i=t[7],a=t[8],f=t[9],l=t[10],s=t[11],v=Math.cos(r),y=Math.sin(r);e[4]=v*n+y*a,e[5]=v*o+y*f,e[6]=v*u+y*l,e[7]=v*i+y*s,e[8]=v*a-y*n,e[9]=v*f-y*o,e[10]=v*l-y*u,e[11]=v*s-y*i,t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]);return e},r.rotateY=function(t,r,e){e=e||new c(16);var n=t[0],o=t[1],u=t[2],i=t[3],a=t[8],f=t[9],l=t[10],s=t[11],v=Math.cos(r),y=Math.sin(r);e[0]=v*n-y*a,e[1]=v*o-y*f,e[2]=v*u-y*l,e[3]=v*i-y*s,e[8]=v*a+y*n,e[9]=v*f+y*o,e[10]=v*l+y*u,e[11]=v*s+y*i,t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]);return e},r.rotateZ=function(t,r,e){e=e||new c(16);var n=t[0],o=t[1],u=t[2],i=t[3],a=t[4],f=t[5],l=t[6],s=t[7],v=Math.cos(r),y=Math.sin(r);e[0]=v*n+y*a,e[1]=v*o+y*f,e[2]=v*u+y*l,e[3]=v*i+y*s,e[4]=v*a-y*n,e[5]=v*f-y*o,e[6]=v*l-y*u,e[7]=v*s-y*i,t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]);return e},r.rotationX=function(t,r){r=r||new c(16);var e=Math.cos(t),n=Math.sin(t);return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=e,r[6]=n,r[7]=0,r[8]=0,r[9]=-n,r[10]=e,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r},r.rotationY=function(t,r){r=r||new c(16);var e=Math.cos(t),n=Math.sin(t);return r[0]=e,r[1]=0,r[2]=-n,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=n,r[9]=0,r[10]=e,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r},r.rotationZ=function(t,r){r=r||new c(16);var e=Math.cos(t),n=Math.sin(t);return r[0]=e,r[1]=n,r[2]=0,r[3]=0,r[4]=-n,r[5]=e,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r},r.scale=function(t,r,e){e=e||new c(16);var n=r[0],o=r[1],u=r[2];e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=n*t[3],e[4]=o*t[4],e[5]=o*t[5],e[6]=o*t[6],e[7]=o*t[7],e[8]=u*t[8],e[9]=u*t[9],e[10]=u*t[10],e[11]=u*t[11],t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]);return e},r.scaling=function(t,r){return(r=r||new c(16))[0]=t[0],r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=t[1],r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=t[2],r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r},r.setAxis=function(t,r,e,n){n!==t&&(n=l(t,n));var o=4*e;return n[o+0]=r[0],n[o+1]=r[1],n[o+2]=r[2],n},r.setDefaultType=function(t){var r=c;return c=t,r},r.setTranslation=function(t,r,e){e=e||s(),t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11]);return e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e},r.transformDirection=function(t,r,e){e=e||o.create();var n=r[0],u=r[1],i=r[2];return e[0]=n*t[0]+u*t[4]+i*t[8],e[1]=n*t[1]+u*t[5]+i*t[9],e[2]=n*t[2]+u*t[6]+i*t[10],e},r.transformNormal=function(t,r,e){e=e||o.create();var n=v(t),u=r[0],i=r[1],a=r[2];return e[0]=u*n[0]+i*n[1]+a*n[2],e[1]=u*n[4]+i*n[5]+a*n[6],e[2]=u*n[8]+i*n[9]+a*n[10],e},r.transformPoint=function(t,r,e){e=e||o.create();var n=r[0],u=r[1],i=r[2],a=n*t[3]+u*t[7]+i*t[11]+t[15];return e[0]=(n*t[0]+u*t[4]+i*t[8]+t[12])/a,e[1]=(n*t[1]+u*t[5]+i*t[9]+t[13])/a,e[2]=(n*t[2]+u*t[6]+i*t[10]+t[14])/a,e},r.translate=function(t,r,e){e=e||new c(16);var n=r[0],o=r[1],u=r[2],i=t[0],a=t[1],f=t[2],l=t[3],s=t[4],v=t[5],y=t[6],b=t[7],m=t[8],d=t[9],p=t[10],h=t[11],w=t[12],x=t[13],F=t[14],j=t[15];t!==e&&(e[0]=i,e[1]=a,e[2]=f,e[3]=l,e[4]=s,e[5]=v,e[6]=y,e[7]=b,e[8]=m,e[9]=d,e[10]=p,e[11]=h);return e[12]=i*n+s*o+m*u+w,e[13]=a*n+v*o+d*u+x,e[14]=f*n+y*o+p*u+F,e[15]=l*n+b*o+h*u+j,e},r.translation=function(t,r){return(r=r||new c(16))[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=t[0],r[13]=t[1],r[14]=t[2],r[15]=1,r},r.transpose=function(t,r){if((r=r||new c(16))===t){var e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,r}var n=t[0],o=t[1],u=t[2],i=t[3],a=t[4],f=t[5],l=t[6],s=t[7],v=t[8],y=t[9],b=t[10],m=t[11],d=t[12],p=t[13],h=t[14],w=t[15];return r[0]=n,r[1]=a,r[2]=v,r[3]=d,r[4]=o,r[5]=f,r[6]=y,r[7]=p,r[8]=u,r[9]=l,r[10]=b,r[11]=h,r[12]=i,r[13]=s,r[14]=m,r[15]=w,r};var o=function(t,r){if(!r&&t&&t.__esModule)return t;if(null===t||"object"!==n(t)&&"function"!=typeof t)return{default:t};var e=u(r);if(e&&e.has(t))return e.get(t);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var f=i?Object.getOwnPropertyDescriptor(t,a):null;f&&(f.get||f.set)?Object.defineProperty(o,a,f):o[a]=t[a]}o.default=t,e&&e.set(t,o);return o}(e(2));function u(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,e=new WeakMap;return(u=function(t){return t?e:r})(t)}var i,a,f,c=Float32Array;function l(t,r){return(r=r||new c(16))[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r}function s(t){return(t=t||new c(16))[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function v(t,r){r=r||new c(16);var e=t[0],n=t[1],o=t[2],u=t[3],i=t[4],a=t[5],f=t[6],l=t[7],s=t[8],v=t[9],y=t[10],b=t[11],m=t[12],d=t[13],p=t[14],h=t[15],w=y*h,x=p*b,F=f*h,j=p*l,O=f*b,E=y*l,A=o*h,S=p*u,M=o*b,_=y*u,T=o*l,g=f*u,P=s*d,R=m*v,z=i*d,k=m*a,U=i*v,C=s*a,W=e*d,I=m*n,L=e*v,G=s*n,B=e*a,N=i*n,X=w*a+j*v+O*d-(x*a+F*v+E*d),D=x*n+A*v+_*d-(w*n+S*v+M*d),H=F*n+S*a+T*d-(j*n+A*a+g*d),V=E*n+M*a+g*v-(O*n+_*a+T*v),Y=1/(e*X+i*D+s*H+m*V);return r[0]=Y*X,r[1]=Y*D,r[2]=Y*H,r[3]=Y*V,r[4]=Y*(x*i+F*s+E*m-(w*i+j*s+O*m)),r[5]=Y*(w*e+S*s+M*m-(x*e+A*s+_*m)),r[6]=Y*(j*e+A*i+g*m-(F*e+S*i+T*m)),r[7]=Y*(O*e+_*i+T*s-(E*e+M*i+g*s)),r[8]=Y*(P*l+k*b+U*h-(R*l+z*b+C*h)),r[9]=Y*(R*u+W*b+G*h-(P*u+I*b+L*h)),r[10]=Y*(z*u+I*l+B*h-(k*u+W*l+N*h)),r[11]=Y*(C*u+L*l+N*b-(U*u+G*l+B*b)),r[12]=Y*(z*y+C*p+R*f-(U*p+P*f+k*y)),r[13]=Y*(L*p+P*o+I*y-(W*y+G*p+R*o)),r[14]=Y*(W*f+N*p+k*o-(B*p+z*o+I*f)),r[15]=Y*(B*y+U*o+G*f-(L*f+N*y+C*o)),r}},function(t,r,e){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}r.__esModule=!0,r.createAttribsFromArrays=O,r.createBufferFromArray=A,r.createBufferFromTypedArray=v,r.createBufferInfoFromArrays=function(t,r,e){var n=O(t,r),u=Object.assign({},e||{});u.attribs=Object.assign({},e?e.attribs:{},n);var i=r.indices;if(i){var a=h(i,"indices");u.indices=v(t,a,34963),u.numElements=a.length,u.elementType=o.getGLTypeForTypedArray(a)}else u.numElements||(u.numElements=function(t,r){var e,n;for(n=0;n<E.length&&!((e=E[n])in r)&&!((e=l.attribPrefix+e)in r);++n);n===E.length&&(e=Object.keys(r)[0]);var o=r[e];if(!o.buffer)return 1;t.bindBuffer(f,o.buffer);var u=t.getBufferParameter(f,34660);t.bindBuffer(f,null);var i=(y=o.type,5120===y||5121===y?1:5122===y||5123===y?2:5124===y||5125===y||y===c?4:0),a=u/i,s=o.numComponents||o.size,v=a/s;var y;if(v%1!=0)throw new Error("numComponents ".concat(s," not correct for length ").concat(length));return v}(t,u.attribs));return u},r.createBuffersFromArrays=function(t,r){var e={};Object.keys(r).forEach((function(n){e[n]=A(t,r[n],n)})),r.indices?(e.numElements=r.indices.length,e.elementType=o.getGLTypeForTypedArray(h(r.indices),"indices")):e.numElements=function(t){var r,e;for(e=0;e<E.length&&!((r=E[e])in t);++e);e===E.length&&(r=Object.keys(t)[0]);var n=t[r],o=b(n).length;if(void 0===o)return 1;var u=p(n,r),i=o/u;if(o%u>0)throw new Error("numComponents ".concat(u," not correct for length ").concat(o));return i}(r);return e},r.getArray_=b,r.getNumComponents_=p,r.setAttribInfoBufferFromArray=function(t,r,e,n){e=h(e),void 0!==n?(t.bindBuffer(f,r.buffer),t.bufferSubData(f,n,e)):s(t,f,r.buffer,e,r.drawType)},r.setAttributeDefaults_=function(t){u.copyExistingProperties(t,l)},r.setAttributePrefix=function(t){l.attribPrefix=t};var o=a(e(1)),u=a(e(0));function i(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,e=new WeakMap;return(i=function(t){return t?e:r})(t)}function a(t,r){if(!r&&t&&t.__esModule)return t;if(null===t||"object"!==n(t)&&"function"!=typeof t)return{default:t};var e=i(r);if(e&&e.has(t))return e.get(t);var o={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var f=u?Object.getOwnPropertyDescriptor(t,a):null;f&&(f.get||f.set)?Object.defineProperty(o,a,f):o[a]=t[a]}return o.default=t,e&&e.set(t,o),o}var f=34962,c=5126,l={attribPrefix:""};function s(t,r,e,n,o){t.bindBuffer(r,e),t.bufferData(r,n,o||35044)}function v(t,r,e,n){if(u.isBuffer(t,r))return r;e=e||f;var o=t.createBuffer();return s(t,e,o,r,n),o}function y(t){return"indices"===t}function b(t){return t.length?t:t.data}var m=/coord|texture/i,d=/color|colour/i;function p(t,r,e){return t.numComponents||t.size||function(t,r){var e;if(r%(e=m.test(t)?2:d.test(t)?4:3)>0)throw new Error("Can not guess numComponents for attribute '".concat(t,"'. Tried ").concat(e," but ").concat(r," values is not evenly divisible by ").concat(e,". You should specify it."));return e}(r,e||b(t).length)}function h(t,r){if(o.isArrayBuffer(t))return t;if(o.isArrayBuffer(t.data))return t.data;Array.isArray(t)&&(t={data:t});var e=t.type?w(t.type):void 0;return e||(e=y(r)?Uint16Array:Float32Array),new e(t.data)}function w(t){return"number"==typeof t?o.getTypedArrayTypeForGLType(t):t||Float32Array}function x(t,r){return{buffer:r.buffer,numValues:24,type:(e=r.type,"number"==typeof e?e:e?o.getGLTypeForTypedArrayType(e):c),arrayType:w(r.type)};var e}function F(t,r){var e=r.data||r,n=w(r.type),u=e*n.BYTES_PER_ELEMENT,i=t.createBuffer();return t.bindBuffer(f,i),t.bufferData(f,u,r.drawType||35044),{buffer:i,numValues:e,type:o.getGLTypeForTypedArrayType(n),arrayType:n}}function j(t,r,e){var n=h(r,e);return{arrayType:n.constructor,buffer:v(t,n,void 0,r.drawType),type:o.getGLTypeForTypedArray(n),numValues:0}}function O(t,r){var e={};return Object.keys(r).forEach((function(n){if(!y(n)){var u=r[n],i=u.attrib||u.name||u.attribName||l.attribPrefix+n;if(u.value){if(!Array.isArray(u.value)&&!o.isArrayBuffer(u.value))throw new Error("array.value is not array or typedarray");e[i]={value:u.value}}else{var a=(u.buffer&&u.buffer instanceof WebGLBuffer?x:"number"==typeof u||"number"==typeof u.data?F:j)(t,u,n),f=a.buffer,c=a.type,s=a.numValues,v=a.arrayType,b=void 0!==u.normalize?u.normalize:(d=v)===Int8Array||d===Uint8Array,m=p(u,n,s);e[i]={buffer:f,numComponents:m,type:c,normalize:b,stride:u.stride||0,offset:u.offset||0,divisor:void 0===u.divisor?void 0:u.divisor,drawType:u.drawType}}}var d})),t.bindBuffer(f,null),e}var E=["position","positions","a_position"];function A(t,r,e){var n="indices"===e?34963:f;return v(t,h(r,e),n)}},function(t,r,e){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}r.__esModule=!0,r.canFilter=rt,r.canGenerateMipmap=tt,r.createSampler=lt,r.createSamplers=function(t,r){var e={};return Object.keys(r).forEach((function(n){e[n]=lt(t,r[n])})),e},r.createTexture=St,r.createTextures=function(t,r,e){e=e||dt;var n=0,o=[],u={},i={};function a(){0===n&&setTimeout((function(){e(o.length?o:void 0,u,i)}),0)}return Object.keys(r).forEach((function(e){var f,c,l=r[e];("string"==typeof(c=l.src)||Array.isArray(c)&&"string"==typeof c[0])&&(f=function(t,r,u){i[e]=u,--n,t&&o.push(t),a()},++n),u[e]=St(t,l,f)})),a(),u},r.getBytesPerElementForInternalFormat=Z,r.getFormatAndTypeForInternalFormat=J,r.getNumComponentsForFormat=function(t){var r=q[t];if(!r)throw"unknown format: "+t;return r.u},r.loadTextureFromUrl=Ft,r.resizeTexture=function(t,r,e,n,o,u){n=n||e.width,o=o||e.height,u=u||e.depth;var i=e.target||j;t.bindTexture(i,r);var a,f=e.level||0,c=e.internalFormat||e.format||d,l=J(c),s=e.format||l.format,y=e.src;a=y&&(v(y)||Array.isArray(y)&&"number"==typeof y[0])?e.type||et(t,y,l.type):e.type||l.type;if(i===O)for(var b=0;b<6;++b)t.texImage2D(S+b,f,c,n,o,0,s,a,null);else i===E||i===A?t.texImage3D(i,f,c,n,o,u,0,s,a,null):t.texImage2D(i,f,c,n,o,0,s,a,null)},r.setDefaultTextureColor=ot,r.setEmptyTexture=At,r.setSamplerParameters=ct,r.setTextureDefaults_=function(t){i.copyExistingProperties(t,s),t.textureColor&&ot(t.textureColor)},r.setTextureFilteringForSize=st,r.setTextureFromArray=Et,r.setTextureFromElement=mt,r.setTextureParameters=ft;var o=f(e(3)),u=f(e(1)),i=f(e(0));function a(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,e=new WeakMap;return(a=function(t){return t?e:r})(t)}function f(t,r){if(!r&&t&&t.__esModule)return t;if(null===t||"object"!==n(t)&&"function"!=typeof t)return{default:t};var e=a(r);if(e&&e.has(t))return e.get(t);var o={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if("default"!==i&&Object.prototype.hasOwnProperty.call(t,i)){var f=u?Object.getOwnPropertyDescriptor(t,i):null;f&&(f.get||f.set)?Object.defineProperty(o,i,f):o[i]=t[i]}return o.default=t,e&&e.set(t,o),o}var c,l,s={textureColor:new Uint8Array([128,192,255,255]),textureOptions:{},crossOrigin:void 0},v=u.isArrayBuffer,y=function(){return c=c||("undefined"!=typeof document&&document.createElement?document.createElement("canvas").getContext("2d"):null)},b=6406,m=6407,d=6408,p=6409,h=6410,w=6402,x=34041,F=33071,j=3553,O=34067,E=32879,A=35866,S=34069,M=10241,_=10240,T=10242,g=10243,P=3317,R=5120,z=5121,k=5122,U=5123,C=5124,W=5125,I=5126,L=5131,G=36193,B=33640,N=33319,X=33320,D=6403,H=36244,V=36248,Y=36249,q={},K=q;function $(t){if(!l){var r={};r[6406]={v:b,h:!0,F:!0,j:[1,2,2,4],type:[z,L,G,I]},r[6409]={v:p,h:!0,F:!0,j:[1,2,2,4],type:[z,L,G,I]},r[6410]={v:h,h:!0,F:!0,j:[2,4,4,8],type:[z,L,G,I]},r[m]={v:m,h:!0,F:!0,j:[3,6,6,12,2],type:[z,L,G,I,33635]},r[d]={v:d,h:!0,F:!0,j:[4,8,8,16,2,2],type:[z,L,G,I,32819,32820]},r[6402]={v:w,h:!0,F:!1,j:[2,4],type:[W,U]},r[33321]={v:D,h:!0,F:!0,j:[1],type:[z]},r[36756]={v:D,h:!1,F:!0,j:[1],type:[R]},r[33325]={v:D,h:!1,F:!0,j:[4,2],type:[I,L]},r[33326]={v:D,h:!1,F:!1,j:[4],type:[I]},r[33330]={v:H,h:!0,F:!1,j:[1],type:[z]},r[33329]={v:H,h:!0,F:!1,j:[1],type:[R]},r[33332]={v:H,h:!0,F:!1,j:[2],type:[U]},r[33331]={v:H,h:!0,F:!1,j:[2],type:[k]},r[33334]={v:H,h:!0,F:!1,j:[4],type:[W]},r[33333]={v:H,h:!0,F:!1,j:[4],type:[C]},r[33323]={v:N,h:!0,F:!0,j:[2],type:[z]},r[36757]={v:N,h:!1,F:!0,j:[2],type:[R]},r[33327]={v:N,h:!1,F:!0,j:[8,4],type:[I,L]},r[33328]={v:N,h:!1,F:!1,j:[8],type:[I]},r[33336]={v:X,h:!0,F:!1,j:[2],type:[z]},r[33335]={v:X,h:!0,F:!1,j:[2],type:[R]},r[33338]={v:X,h:!0,F:!1,j:[4],type:[U]},r[33337]={v:X,h:!0,F:!1,j:[4],type:[k]},r[33340]={v:X,h:!0,F:!1,j:[8],type:[W]},r[33339]={v:X,h:!0,F:!1,j:[8],type:[C]},r[32849]={v:m,h:!0,F:!0,j:[3],type:[z]},r[35905]={v:m,h:!1,F:!0,j:[3],type:[z]},r[36194]={v:m,h:!0,F:!0,j:[3,2],type:[z,33635]},r[36758]={v:m,h:!1,F:!0,j:[3],type:[R]},r[35898]={v:m,h:!1,F:!0,j:[12,6,4],type:[I,L,35899]},r[35901]={v:m,h:!1,F:!0,j:[12,6,4],type:[I,L,35902]},r[34843]={v:m,h:!1,F:!0,j:[12,6],type:[I,L]},r[34837]={v:m,h:!1,F:!1,j:[12],type:[I]},r[36221]={v:V,h:!1,F:!1,j:[3],type:[z]},r[36239]={v:V,h:!1,F:!1,j:[3],type:[R]},r[36215]={v:V,h:!1,F:!1,j:[6],type:[U]},r[36233]={v:V,h:!1,F:!1,j:[6],type:[k]},r[36209]={v:V,h:!1,F:!1,j:[12],type:[W]},r[36227]={v:V,h:!1,F:!1,j:[12],type:[C]},r[32856]={v:d,h:!0,F:!0,j:[4],type:[z]},r[35907]={v:d,h:!0,F:!0,j:[4],type:[z]},r[36759]={v:d,h:!1,F:!0,j:[4],type:[R]},r[32855]={v:d,h:!0,F:!0,j:[4,2,4],type:[z,32820,B]},r[32854]={v:d,h:!0,F:!0,j:[4,2],type:[z,32819]},r[32857]={v:d,h:!0,F:!0,j:[4],type:[B]},r[34842]={v:d,h:!1,F:!0,j:[16,8],type:[I,L]},r[34836]={v:d,h:!1,F:!1,j:[16],type:[I]},r[36220]={v:Y,h:!0,F:!1,j:[4],type:[z]},r[36238]={v:Y,h:!0,F:!1,j:[4],type:[R]},r[36975]={v:Y,h:!0,F:!1,j:[4],type:[B]},r[36214]={v:Y,h:!0,F:!1,j:[8],type:[U]},r[36232]={v:Y,h:!0,F:!1,j:[8],type:[k]},r[36226]={v:Y,h:!0,F:!1,j:[16],type:[C]},r[36208]={v:Y,h:!0,F:!1,j:[16],type:[W]},r[33189]={v:w,h:!0,F:!1,j:[2,4],type:[U,W]},r[33190]={v:w,h:!0,F:!1,j:[4],type:[W]},r[36012]={v:w,h:!0,F:!1,j:[4],type:[I]},r[35056]={v:x,h:!0,F:!1,j:[4],type:[34042]},r[36013]={v:x,h:!0,F:!1,j:[4],type:[36269]},Object.keys(r).forEach((function(t){var e=r[t];e.bytesPerElementMap={},e.j.forEach((function(t,r){var n=e.type[r];e.bytesPerElementMap[n]=t}))})),l=r}return l[t]}function Z(t,r){var e=$(t);if(!e)throw"unknown internal format";var n=e.bytesPerElementMap[r];if(void 0===n)throw"unknown internal format";return n}function J(t){var r=$(t);if(!r)throw"unknown internal format";return{format:r.v,type:r.type[0]}}function Q(t){return 0==(t&t-1)}function tt(t,r,e,n){if(!o.isWebGL2(t))return Q(r)&&Q(e);var u=$(n);if(!u)throw"unknown internal format";return u.h&&u.F}function rt(t){var r=$(t);if(!r)throw"unknown internal format";return r.F}function et(t,r,e){return v(r)?u.getGLTypeForTypedArray(r):e||z}function nt(t,r,e,n,o){if(o%1!=0)throw"can't guess dimensions";if(e||n){if(n){if(!e&&(e=o/n)%1)throw"can't guess dimensions"}else if((n=o/e)%1)throw"can't guess dimensions"}else{var u=Math.sqrt(o/(r===O?6:1));u%1==0?(e=u,n=u):(e=o,n=1)}return{width:e,height:n}}function ot(t){s.textureColor=new Uint8Array([255*t[0],255*t[1],255*t[2],255*t[3]])}function ut(t,r){void 0!==r.colorspaceConversion&&t.pixelStorei(37443,r.colorspaceConversion),void 0!==r.premultiplyAlpha&&t.pixelStorei(37441,r.premultiplyAlpha),void 0!==r.flipY&&t.pixelStorei(37440,r.flipY)}function it(t){t.pixelStorei(P,4),o.isWebGL2(t)&&(t.pixelStorei(3314,0),t.pixelStorei(32878,0),t.pixelStorei(3316,0),t.pixelStorei(3315,0),t.pixelStorei(32877,0))}function at(t,r,e,n){n.minMag&&(e.call(t,r,M,n.minMag),e.call(t,r,_,n.minMag)),n.min&&e.call(t,r,M,n.min),n.mag&&e.call(t,r,_,n.mag),n.wrap&&(e.call(t,r,T,n.wrap),e.call(t,r,g,n.wrap),(r===E||i.isSampler(t,r))&&e.call(t,r,32882,n.wrap)),n.wrapR&&e.call(t,r,32882,n.wrapR),n.wrapS&&e.call(t,r,T,n.wrapS),n.wrapT&&e.call(t,r,g,n.wrapT),void 0!==n.minLod&&e.call(t,r,33082,n.minLod),void 0!==n.maxLod&&e.call(t,r,33083,n.maxLod),void 0!==n.baseLevel&&e.call(t,r,33084,n.baseLevel),void 0!==n.maxLevel&&e.call(t,r,33085,n.maxLevel),void 0!==n.compareFunc&&e.call(t,r,34893,n.compareFunc),void 0!==n.compareMode&&e.call(t,r,34892,n.compareMode)}function ft(t,r,e){var n=e.target||j;t.bindTexture(n,r),at(t,n,t.texParameteri,e)}function ct(t,r,e){at(t,r,t.samplerParameteri,e)}function lt(t,r){var e=t.createSampler();return ct(t,e,r),e}function st(t,r,e,n,o,u){e=e||s.textureOptions,u=u||d;var i=e.target||j;if(n=n||e.width,o=o||e.height,t.bindTexture(i,r),tt(t,n,o,u))t.generateMipmap(i);else{var a=rt(u)?9729:9728;t.texParameteri(i,M,a),t.texParameteri(i,_,a),t.texParameteri(i,T,F),t.texParameteri(i,g,F)}}function vt(t){return!0===t.auto||void 0===t.auto&&void 0===t.level}function yt(t,r){return(r=r||{}).cubeFaceOrder||[S,34070,34071,34072,34073,34074]}function bt(t,r){var e=yt(0,r).map((function(t,r){return{face:t,ndx:r}}));return e.sort((function(t,r){return t.face-r.face})),e}function mt(t,r,e,n){var o=(n=n||s.textureOptions).target||j,u=n.level||0,i=e.width,a=e.height,f=n.internalFormat||n.format||d,c=J(f),l=n.format||c.format,v=n.type||c.type;if(ut(t,n),t.bindTexture(o,r),o===O){var b,m,p=e.width,h=e.height;if(p/6===h)b=h,m=[0,0,1,0,2,0,3,0,4,0,5,0];else if(h/6===p)b=p,m=[0,0,0,1,0,2,0,3,0,4,0,5];else if(p/3==h/2)b=p/3,m=[0,0,1,0,2,0,0,1,1,1,2,1];else{if(p/2!=h/3)throw"can't figure out cube map from element: "+(e.src?e.src:e.nodeName);b=p/2,m=[0,0,1,0,0,1,1,1,0,2,1,2]}var w=y();w?(w.canvas.width=b,w.canvas.height=b,i=b,a=b,bt(0,n).forEach((function(r){var n=m[2*r.ndx+0]*b,o=m[2*r.ndx+1]*b;w.drawImage(e,n,o,b,b,0,0,b,b),t.texImage2D(r.face,u,f,l,v,w.canvas)})),w.canvas.width=1,w.canvas.height=1):"undefined"!=typeof createImageBitmap&&(i=b,a=b,bt(0,n).forEach((function(c){var s=m[2*c.ndx+0]*b,y=m[2*c.ndx+1]*b;t.texImage2D(c.face,u,f,b,b,0,l,v,null),createImageBitmap(e,s,y,b,b,{premultiplyAlpha:"none",colorSpaceConversion:"none"}).then((function(e){ut(t,n),t.bindTexture(o,r),t.texImage2D(c.face,u,f,l,v,e),vt(n)&&st(t,r,n,i,a,f)}))})))}else if(o===E||o===A){var x=Math.min(e.width,e.height),F=Math.max(e.width,e.height),S=F/x;if(S%1!=0)throw"can not compute 3D dimensions of element";var M=e.width===F?1:0,_=e.height===F?1:0;t.pixelStorei(P,1),t.pixelStorei(3314,e.width),t.pixelStorei(32878,0),t.pixelStorei(32877,0),t.texImage3D(o,u,f,x,x,x,0,l,v,null);for(var T=0;T<S;++T){var g=T*x*M,R=T*x*_;t.pixelStorei(3316,g),t.pixelStorei(3315,R),t.texSubImage3D(o,u,0,0,T,x,x,1,l,v,e)}it(t)}else t.texImage2D(o,u,f,l,v,e);vt(n)&&st(t,r,n,i,a,f),ft(t,r,n)}function dt(){}function pt(t,r){return void 0!==r||function(t){if("undefined"!=typeof document){var r=document.createElement("a");return r.href=t,r.hostname===location.hostname&&r.port===location.port&&r.protocol===location.protocol}var e=new URL(location.href).origin;return new URL(t,location.href).origin===e}(t)?r:"anonymous"}function ht(t){return"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap||"undefined"!=typeof ImageData&&t instanceof ImageData||"undefined"!=typeof HTMLElement&&t instanceof HTMLElement}function wt(t,r,e){return ht(t)?(setTimeout((function(){e(null,t)})),t):function(t,r,e){var n;if(e=e||dt,r=void 0!==r?r:s.crossOrigin,r=pt(t,r),"undefined"!=typeof Image){n=new Image,void 0!==r&&(n.crossOrigin=r);var o=function(){n.removeEventListener("error",u),n.removeEventListener("load",a),n=null},u=function(){var r="couldn't load image: "+t;i.error(r),e(r,n),o()},a=function(){e(null,n),o()};return n.addEventListener("error",u),n.addEventListener("load",a),n.src=t,n}if("undefined"!=typeof ImageBitmap){var f,c,l=function(){e(f,c)},v={};r&&(v.mode="cors"),fetch(t,v).then((function(t){if(!t.ok)throw t;return t.blob()})).then((function(t){return createImageBitmap(t,{premultiplyAlpha:"none",colorSpaceConversion:"none"})})).then((function(t){c=t,setTimeout(l)})).catch((function(t){f=t,setTimeout(l)})),n=null}return n}(t,r,e)}function xt(t,r,e){var n=(e=e||s.textureOptions).target||j;if(t.bindTexture(n,r),!1!==e.color){var o=function(t){return t=t||s.textureColor,v(t)?t:new Uint8Array([255*t[0],255*t[1],255*t[2],255*t[3]])}(e.color);if(n===O)for(var u=0;u<6;++u)t.texImage2D(S+u,0,d,1,1,0,d,z,o);else n===E||n===A?t.texImage3D(n,0,d,1,1,1,0,d,z,o):t.texImage2D(n,0,d,1,1,0,d,z,o)}}function Ft(t,r,e,n){return n=n||dt,e=e||s.textureOptions,xt(t,r,e),wt((e=Object.assign({},e)).src,e.crossOrigin,(function(o,u){o?n(o,r,u):(mt(t,r,u,e),n(null,r,u))}))}function jt(t,r,e,n){n=n||dt;var o=e.src;if(6!==o.length)throw"there must be 6 urls for a cubemap";var u=e.level||0,i=e.internalFormat||e.format||d,a=J(i),f=e.format||a.format,c=e.type||z,l=e.target||j;if(l!==O)throw"target must be TEXTURE_CUBE_MAP";xt(t,r,e),e=Object.assign({},e);var s,v=6,y=[],b=yt(0,e);s=o.map((function(o,a){return wt(o,e.crossOrigin,(m=b[a],function(o,a){--v,o?y.push(o):a.width!==a.height?y.push("cubemap face img is not a square: "+a.src):(ut(t,e),t.bindTexture(l,r),5===v?yt().forEach((function(r){t.texImage2D(r,u,i,f,c,a)})):t.texImage2D(m,u,i,f,c,a),vt(e)&&t.generateMipmap(l)),0===v&&n(y.length?y:void 0,r,s)}));var m}))}function Ot(t,r,e,n){n=n||dt;var o=e.src,u=e.internalFormat||e.format||d,i=J(u),a=e.format||i.format,f=e.type||z,c=e.target||A;if(c!==E&&c!==A)throw"target must be TEXTURE_3D or TEXTURE_2D_ARRAY";xt(t,r,e),e=Object.assign({},e);var l,s=o.length,v=[],b=e.level||0,m=e.width,p=e.height,h=o.length,w=!0;l=o.map((function(o,i){return wt(o,e.crossOrigin,(d=i,function(o,i){if(--s,o)v.push(o);else{if(ut(t,e),t.bindTexture(c,r),w){w=!1,m=e.width||i.width,p=e.height||i.height,t.texImage3D(c,b,u,m,p,h,0,a,f,null);for(var x=0;x<h;++x)t.texSubImage3D(c,b,0,0,x,m,p,1,a,f,i)}else{var F,j=i;i.width===m&&i.height===p||(j=(F=y()).canvas,F.canvas.width=m,F.canvas.height=p,F.drawImage(i,0,0,m,p)),t.texSubImage3D(c,b,0,0,d,m,p,1,a,f,j),F&&j===F.canvas&&(F.canvas.width=0,F.canvas.height=0)}vt(e)&&t.generateMipmap(c)}0===s&&n(v.length?v:void 0,r,l)}));var d}))}function Et(t,r,e,n){var i=(n=n||s.textureOptions).target||j;t.bindTexture(i,r);var a=n.width,f=n.height,c=n.depth,l=n.level||0,y=n.internalFormat||n.format||d,b=J(y),m=n.format||b.format,p=n.type||et(0,e,b.type);if(v(e))e instanceof Uint8ClampedArray&&(e=new Uint8Array(e.buffer));else{var h=u.getTypedArrayTypeForGLType(p);e=new h(e)}var w,x=Z(y,p),F=e.byteLength/x;if(F%1)throw"length wrong size for format: "+o.glEnumToString(t,m);if(i===E||i===A)if(a||f||c)!a||f&&c?!f||a&&c?(w=nt(0,i,a,f,F/c),a=w.width,f=w.height):(w=nt(0,i,a,c,F/f),a=w.width,c=w.height):(w=nt(0,i,f,c,F/a),f=w.width,c=w.height);else{var S=Math.cbrt(F);if(S%1!=0)throw"can't guess cube size of array of numElements: "+F;a=S,f=S,c=S}else w=nt(0,i,a,f,F),a=w.width,f=w.height;if(it(t),t.pixelStorei(P,n.unpackAlignment||1),ut(t,n),i===O){var M=F/6*(x/e.BYTES_PER_ELEMENT);bt(0,n).forEach((function(r){var n=M*r.ndx,o=e.subarray(n,n+M);t.texImage2D(r.face,l,y,a,f,0,m,p,o)}))}else i===E||i===A?t.texImage3D(i,l,y,a,f,c,0,m,p,e):t.texImage2D(i,l,y,a,f,0,m,p,e);return{width:a,height:f,depth:c,type:p}}function At(t,r,e){var n=e.target||j;t.bindTexture(n,r);var o=e.level||0,u=e.internalFormat||e.format||d,i=J(u),a=e.format||i.format,f=e.type||i.type;if(ut(t,e),n===O)for(var c=0;c<6;++c)t.texImage2D(S+c,o,u,e.width,e.height,0,a,f,null);else n===E||n===A?t.texImage3D(n,o,u,e.width,e.height,e.depth,0,a,f,null):t.texImage2D(n,o,u,e.width,e.height,0,a,f,null)}function St(t,r,e){e=e||dt,r=r||s.textureOptions;var n=t.createTexture(),o=r.target||j,u=r.width||1,i=r.height||1,a=r.internalFormat||d;t.bindTexture(o,n),o===O&&(t.texParameteri(o,T,F),t.texParameteri(o,g,F));var f=r.src;if(f)if("function"==typeof f&&(f=f(t,r)),"string"==typeof f)Ft(t,n,r,e);else if(v(f)||Array.isArray(f)&&("number"==typeof f[0]||Array.isArray(f[0])||v(f[0]))){var c=Et(t,n,f,r);u=c.width,i=c.height}else Array.isArray(f)&&("string"==typeof f[0]||ht(f[0]))?o===O?jt(t,n,r,e):Ot(t,n,r,e):(mt(t,n,f,r),u=f.width,i=f.height);else At(t,n,r);return vt(r)&&st(t,n,r,u,i,a),ft(t,n,r),n}K[6406]={u:1},K[6409]={u:1},K[6410]={u:2},K[m]={u:3},K[d]={u:4},K[D]={u:1},K[36244]={u:1},K[N]={u:2},K[33320]={u:2},K[m]={u:3},K[36248]={u:3},K[d]={u:4},K[36249]={u:4},K[6402]={u:1},K[34041]={u:2}},function(t,r,e){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}r.__esModule=!0;var o={m4:!0,v3:!0,primitives:!0};r.v3=r.primitives=r.m4=void 0;var u=l(e(5));r.m4=u;var i=l(e(2));r.v3=i;var a=l(e(9));r.primitives=a;var f=e(10);function c(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,e=new WeakMap;return(c=function(t){return t?e:r})(t)}function l(t,r){if(!r&&t&&t.__esModule)return t;if(null===t||"object"!==n(t)&&"function"!=typeof t)return{default:t};var e=c(r);if(e&&e.has(t))return e.get(t);var o={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if("default"!==i&&Object.prototype.hasOwnProperty.call(t,i)){var a=u?Object.getOwnPropertyDescriptor(t,i):null;a&&(a.get||a.set)?Object.defineProperty(o,i,a):o[i]=t[i]}return o.default=t,e&&e.set(t,o),o}Object.keys(f).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(o,t)||t in r&&r[t]===f[t]||(r[t]=f[t]))}))},function(t,r,e){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}r.__esModule=!0,r.concatVertices=function(t){for(var r,e={},n=function(n){var o=t[n];Object.keys(o).forEach((function(t){e[t]||(e[t]=[]),r||"indices"===t||(r=t);var n=o[t],u=v(n,t),i=s(n).length/u;e[t].push(i)}))},o=0;o<t.length;++o)n(o);var u=e[r],i={};return Object.keys(e).forEach((function(r){var e=function(r){for(var e,n=0,o=0;o<t.length;++o){var u=t[o][r];n+=s(u).length,e&&!u.data||(e=u)}return{length:n,spec:e}}(r),n=I(e.spec,e.length);!function(r,e,n){for(var o=0,u=0,i=0;i<t.length;++i){var a=t[i][r],f=s(a);"indices"===r?(W(f,n,u,o),o+=e[i]):W(f,n,u),u+=f.length}}(r,u,s(n)),i[r]=n})),i},r.create3DFBuffers=r.create3DFBufferInfo=void 0,r.create3DFVertices=T,r.createAugmentedTypedArray=b,r.createCrescentBuffers=r.createCrescentBufferInfo=void 0,r.createCrescentVertices=g,r.createCubeBuffers=r.createCubeBufferInfo=r.createCresentVertices=r.createCresentBuffers=r.createCresentBufferInfo=void 0,r.createCubeVertices=S,r.createCylinderBuffers=r.createCylinderBufferInfo=void 0,r.createCylinderVertices=P,r.createDiscBuffers=r.createDiscBufferInfo=void 0,r.createDiscVertices=z,r.createPlaneBuffers=r.createPlaneBufferInfo=void 0,r.createPlaneVertices=O,r.createSphereBuffers=r.createSphereBufferInfo=void 0,r.createSphereVertices=E,r.createTorusBuffers=r.createTorusBufferInfo=void 0,r.createTorusVertices=R,r.createTruncatedConeBuffers=r.createTruncatedConeBufferInfo=void 0,r.createTruncatedConeVertices=M,r.createXYQuadBuffers=r.createXYQuadBufferInfo=void 0,r.createXYQuadVertices=j,r.deindexVertices=function(t){var r=t.indices,e={},n=r.length;return Object.keys(t).filter(m).forEach((function(o){for(var u=t[o],i=u.numComponents,a=b(i,n,u.constructor),f=0;f<n;++f)for(var c=r[f]*i,l=0;l<i;++l)a.push(u[c+l]);e[o]=a})),e},r.duplicateVertices=function(t){var r={};return Object.keys(t).forEach((function(e){var n=t[e],o=s(n),u=I(n,o.length);W(o,s(u),0),r[e]=u})),r},r.flattenNormals=function(t){if(t.indices)throw new Error("can not flatten normals of indexed vertices. deindex them first");for(var r=t.normal,e=r.length,n=0;n<e;n+=9){var o=r[n+0],u=r[n+1],i=r[n+2],a=r[n+3],f=r[n+4],c=r[n+5],l=r[n+6],s=r[n+7],v=r[n+8],y=o+a+l,b=u+f+s,m=i+c+v,d=Math.sqrt(y*y+b*b+m*m);y/=d,b/=d,m/=d,r[n+0]=y,r[n+1]=b,r[n+2]=m,r[n+3]=y,r[n+4]=b,r[n+5]=m,r[n+6]=y,r[n+7]=b,r[n+8]=m}return t},r.makeRandomVertexColors=function(t,r){r=r||{};var e=t.position.numElements,n=b(4,e,Uint8Array),o=r.rand||function(t,r){return r<3?(e=256,Math.random()*e|0):255;var e};if(t.color=n,t.indices)for(var u=0;u<e;++u)n.push(o(u,0),o(u,1),o(u,2),o(u,3));else for(var i=r.vertsPerColor||3,a=e/i,f=0;f<a;++f)for(var c=[o(f,0),o(f,1),o(f,2),o(f,3)],l=0;l<i;++l)n.push(c);return t},r.reorientDirections=h,r.reorientNormals=w,r.reorientPositions=x,r.reorientVertices=F;var o=l(e(6)),u=l(e(0)),i=l(e(1)),a=l(e(5)),f=l(e(2));function c(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,e=new WeakMap;return(c=function(t){return t?e:r})(t)}function l(t,r){if(!r&&t&&t.__esModule)return t;if(null===t||"object"!==n(t)&&"function"!=typeof t)return{default:t};var e=c(r);if(e&&e.has(t))return e.get(t);var o={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if("default"!==i&&Object.prototype.hasOwnProperty.call(t,i)){var a=u?Object.getOwnPropertyDescriptor(t,i):null;a&&(a.get||a.set)?Object.defineProperty(o,i,a):o[i]=t[i]}return o.default=t,e&&e.set(t,o),o}var s=o.getArray_,v=o.getNumComponents_;function y(t,r){var e=0;return t.push=function(){for(var r=0;r<arguments.length;++r){var n=arguments[r];if(n instanceof Array||i.isArrayBuffer(n))for(var o=0;o<n.length;++o)t[e++]=n[o];else t[e++]=n}},t.reset=function(t){e=t||0},t.numComponents=r,Object.defineProperty(t,"numElements",{get:function(){return this.length/this.numComponents|0}}),t}function b(t,r,e){return y(new(e||Float32Array)(t*r),t)}function m(t){return"indices"!==t}function d(t,r,e){for(var n=t.length,o=new Float32Array(3),u=0;u<n;u+=3)e(r,[t[u],t[u+1],t[u+2]],o),t[u]=o[0],t[u+1]=o[1],t[u+2]=o[2]}function p(t,r,e){e=e||f.create();var n=r[0],o=r[1],u=r[2];return e[0]=n*t[0]+o*t[1]+u*t[2],e[1]=n*t[4]+o*t[5]+u*t[6],e[2]=n*t[8]+o*t[9]+u*t[10],e}function h(t,r){return d(t,r,a.transformDirection),t}function w(t,r){return d(t,a.inverse(r),p),t}function x(t,r){return d(t,r,a.transformPoint),t}function F(t,r){return Object.keys(t).forEach((function(e){var n=t[e];e.indexOf("pos")>=0?x(n,r):e.indexOf("tan")>=0||e.indexOf("binorm")>=0?h(n,r):e.indexOf("norm")>=0&&w(n,r)})),t}function j(t,r,e){return t=t||2,{position:{numComponents:2,data:[(r=r||0)+-1*(t*=.5),(e=e||0)+-1*t,r+1*t,e+-1*t,r+-1*t,e+1*t,r+1*t,e+1*t]},normal:[0,0,1,0,0,1,0,0,1,0,0,1],texcoord:[0,0,1,0,0,1,1,1],indices:[0,1,2,2,1,3]}}function O(t,r,e,n,o){t=t||1,r=r||1,e=e||1,n=n||1,o=o||a.identity();for(var u=(e+1)*(n+1),i=b(3,u),f=b(3,u),c=b(2,u),l=0;l<=n;l++)for(var s=0;s<=e;s++){var v=s/e,y=l/n;i.push(t*v-.5*t,0,r*y-.5*r),f.push(0,1,0),c.push(v,y)}for(var m=e+1,d=b(3,e*n*2,Uint16Array),p=0;p<n;p++)for(var h=0;h<e;h++)d.push((p+0)*m+h,(p+1)*m+h,(p+0)*m+h+1),d.push((p+1)*m+h,(p+1)*m+h+1,(p+0)*m+h+1);return F({position:i,normal:f,texcoord:c,indices:d},o)}function E(t,r,e,n,o,u,i){if(r<=0||e<=0)throw new Error("subdivisionAxis and subdivisionHeight must be > 0");n=n||0,u=u||0;for(var a=(o=o||Math.PI)-n,f=(i=i||2*Math.PI)-u,c=(r+1)*(e+1),l=b(3,c),s=b(3,c),v=b(2,c),y=0;y<=e;y++)for(var m=0;m<=r;m++){var d=m/r,p=y/e,h=f*d+u,w=a*p+n,x=Math.sin(h),F=Math.cos(h),j=Math.sin(w),O=F*j,E=Math.cos(w),A=x*j;l.push(t*O,t*E,t*A),s.push(O,E,A),v.push(1-d,p)}for(var S=r+1,M=b(3,r*e*2,Uint16Array),_=0;_<r;_++)for(var T=0;T<e;T++)M.push((T+0)*S+_,(T+0)*S+_+1,(T+1)*S+_),M.push((T+1)*S+_,(T+0)*S+_+1,(T+1)*S+_+1);return{position:l,normal:s,texcoord:v,indices:M}}var A=[[3,7,5,1],[6,2,0,4],[6,7,3,2],[0,1,5,4],[7,6,4,5],[2,3,1,0]];function S(t){for(var r=(t=t||1)/2,e=[[-r,-r,-r],[+r,-r,-r],[-r,+r,-r],[+r,+r,-r],[-r,-r,+r],[+r,-r,+r],[-r,+r,+r],[+r,+r,+r]],n=[[1,0,0],[-1,0,0],[0,1,0],[0,-1,0],[0,0,1],[0,0,-1]],o=[[1,0],[0,0],[0,1],[1,1]],u=b(3,24),i=b(3,24),a=b(2,24),f=b(3,12,Uint16Array),c=0;c<6;++c){for(var l=A[c],s=0;s<4;++s){var v=e[l[s]],y=n[c],m=o[s];u.push(v),i.push(y),a.push(m)}var d=4*c;f.push(d+0,d+1,d+2),f.push(d+0,d+2,d+3)}return{position:u,normal:i,texcoord:a,indices:f}}function M(t,r,e,n,o,u,i){if(n<3)throw new Error("radialSubdivisions must be 3 or greater");if(o<1)throw new Error("verticalSubdivisions must be 1 or greater");for(var a=void 0===u||u,f=void 0===i||i,c=(a?2:0)+(f?2:0),l=(n+1)*(o+1+c),s=b(3,l),v=b(3,l),y=b(2,l),m=b(3,n*(o+c/2)*2,Uint16Array),d=n+1,p=Math.atan2(t-r,e),h=Math.cos(p),w=Math.sin(p),x=o+(f?2:0),F=a?-2:0;F<=x;++F){var j=F/o,O=e*j,E=void 0;F<0?(O=0,j=1,E=t):F>o?(O=e,j=1,E=r):E=t+F/o*(r-t),-2!==F&&F!==o+2||(E=0,j=0),O-=e/2;for(var A=0;A<d;++A){var S=Math.sin(A*Math.PI*2/n),M=Math.cos(A*Math.PI*2/n);s.push(S*E,O,M*E),F<0?v.push(0,-1,0):F>o?v.push(0,1,0):0===E?v.push(0,0,0):v.push(S*h,w,M*h),y.push(A/n,1-j)}}for(var _=0;_<o+c;++_)if(!(1===_&&a||_===o+c-2&&f))for(var T=0;T<n;++T)m.push(d*(_+0)+0+T,d*(_+0)+1+T,d*(_+1)+1+T),m.push(d*(_+0)+0+T,d*(_+1)+1+T,d*(_+1)+0+T);return{position:s,normal:v,texcoord:y,indices:m}}function _(t,r){r=r||[];for(var e=[],n=0;n<t.length;n+=4){var o=t[n],u=t.slice(n+1,n+4);u.push.apply(u,r);for(var i=0;i<o;++i)e.push.apply(e,u)}return e}function T(){var t=[0,0,0,0,150,0,30,0,0,0,150,0,30,150,0,30,0,0,30,0,0,30,30,0,100,0,0,30,30,0,100,30,0,100,0,0,30,60,0,30,90,0,67,60,0,30,90,0,67,90,0,67,60,0,0,0,30,30,0,30,0,150,30,0,150,30,30,0,30,30,150,30,30,0,30,100,0,30,30,30,30,30,30,30,100,0,30,100,30,30,30,60,30,67,60,30,30,90,30,30,90,30,67,60,30,67,90,30,0,0,0,100,0,0,100,0,30,0,0,0,100,0,30,0,0,30,100,0,0,100,30,0,100,30,30,100,0,0,100,30,30,100,0,30,30,30,0,30,30,30,100,30,30,30,30,0,100,30,30,100,30,0,30,30,0,30,60,30,30,30,30,30,30,0,30,60,0,30,60,30,30,60,0,67,60,30,30,60,30,30,60,0,67,60,0,67,60,30,67,60,0,67,90,30,67,60,30,67,60,0,67,90,0,67,90,30,30,90,0,30,90,30,67,90,30,30,90,0,67,90,30,67,90,0,30,90,0,30,150,30,30,90,30,30,90,0,30,150,0,30,150,30,0,150,0,0,150,30,30,150,30,0,150,0,30,150,30,30,150,0,0,0,0,0,0,30,0,150,30,0,0,0,0,150,30,0,150,0],r=_([18,0,0,1,18,0,0,-1,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,-1,0,6,-1,0,0]),e=_([18,200,70,120,18,80,70,200,6,70,200,210,6,200,200,70,6,210,100,70,6,210,160,70,6,70,180,210,6,100,70,210,6,76,210,100,6,140,210,80,6,90,130,110,6,160,160,220],[255]),n=t.length/3,o={position:b(3,n),texcoord:b(2,n),normal:b(3,n),color:b(4,n,Uint8Array),indices:b(3,n/3,Uint16Array)};o.position.push(t),o.texcoord.push([.22,.19,.22,.79,.34,.19,.22,.79,.34,.79,.34,.19,.34,.19,.34,.31,.62,.19,.34,.31,.62,.31,.62,.19,.34,.43,.34,.55,.49,.43,.34,.55,.49,.55,.49,.43,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,0,1,1,1,0,0,1,1,1,0]),o.normal.push(r),o.color.push(e);for(var u=0;u<n;++u)o.indices.push(u);return o}function g(t,r,e,n,o,u,i){if(o<=0)throw new Error("subdivisionDown must be > 0");var a=(i=i||1)-(u=u||0),c=2*(o+1)*4,l=b(3,c),s=b(3,c),v=b(2,c);function y(t,r,e){return t+(r-t)*e}function m(r,e,i,c,b,m){for(var d=0;d<=o;d++){var p=e/1,h=d/o,w=2*(p-.5),x=(u+h*a)*Math.PI,F=Math.sin(x),j=Math.cos(x),O=y(t,r,F),E=w*n,A=j*t,S=F*O;l.push(E,A,S);var M=f.add(f.multiply([0,F,j],i),c);s.push(M),v.push(p*b+m,h)}}for(var d=0;d<2;d++){var p=2*(d/1-.5);m(r,d,[1,1,1],[0,0,0],1,0),m(r,d,[0,0,0],[p,0,0],0,0),m(e,d,[1,1,1],[0,0,0],1,0),m(e,d,[0,0,0],[p,0,0],0,1)}var h=b(3,2*o*4,Uint16Array);function w(t,r){for(var e=0;e<o;++e)h.push(t+e+0,t+e+1,r+e+0),h.push(t+e+1,r+e+1,r+e+0)}var x=o+1;return w(0*x,4*x),w(5*x,7*x),w(6*x,2*x),w(3*x,1*x),{position:l,normal:s,texcoord:v,indices:h}}function P(t,r,e,n,o,u){return M(t,t,r,e,n,o,u)}function R(t,r,e,n,o,u){if(e<3)throw new Error("radialSubdivisions must be 3 or greater");if(n<3)throw new Error("verticalSubdivisions must be 3 or greater");o=o||0;for(var i=(u=u||2*Math.PI)-o,a=e+1,f=n+1,c=a*f,l=b(3,c),s=b(3,c),v=b(2,c),y=b(3,e*n*2,Uint16Array),m=0;m<f;++m)for(var d=m/n,p=d*Math.PI*2,h=Math.sin(p),w=t+h*r,x=Math.cos(p),F=x*r,j=0;j<a;++j){var O=j/e,E=o+O*i,A=Math.sin(E),S=Math.cos(E),M=A*w,_=S*w,T=A*h,g=S*h;l.push(M,F,_),s.push(T,x,g),v.push(O,1-d)}for(var P=0;P<n;++P)for(var R=0;R<e;++R){var z=1+R,k=1+P;y.push(a*P+R,a*k+R,a*P+z),y.push(a*k+R,a*k+z,a*P+z)}return{position:l,normal:s,texcoord:v,indices:y}}function z(t,r,e,n,o){if(r<3)throw new Error("divisions must be at least 3");o=o||1,n=n||0;for(var u=(r+1)*((e=e||1)+1),i=b(3,u),a=b(3,u),f=b(2,u),c=b(3,e*r*2,Uint16Array),l=0,s=t-n,v=r+1,y=0;y<=e;++y){for(var m=n+s*Math.pow(y/e,o),d=0;d<=r;++d){var p=2*Math.PI*d/r,h=m*Math.cos(p),w=m*Math.sin(p);if(i.push(h,0,w),a.push(0,1,0),f.push(1-d/r,y/e),y>0&&d!==r){var x=l+(d+1),F=l+d,j=l+d-v,O=l+(d+1)-v;c.push(x,F,j),c.push(x,j,O)}}l+=r+1}return{position:i,normal:a,texcoord:f,indices:c}}function k(t){return function(r){var e=t.apply(this,Array.prototype.slice.call(arguments,1));return o.createBuffersFromArrays(r,e)}}function U(t){return function(r){var e=t.apply(null,Array.prototype.slice.call(arguments,1));return o.createBufferInfoFromArrays(r,e)}}var C=["numComponents","size","type","normalize","stride","offset","attrib","name","attribName"];function W(t,r,e,n){n=n||0;for(var o=t.length,u=0;u<o;++u)r[e+u]=t[u]+n}function I(t,r){var e=s(t),n=new e.constructor(r),o=n;return e.numComponents&&e.numElements&&y(n,e.numComponents),t.data&&(o={data:n},u.copyNamedProperties(C,t,o)),o}var L=U(T);r.create3DFBufferInfo=L;var G=k(T);r.create3DFBuffers=G;var B=U(S);r.createCubeBufferInfo=B;var N=k(S);r.createCubeBuffers=N;var X=U(O);r.createPlaneBufferInfo=X;var D=k(O);r.createPlaneBuffers=D;var H=U(E);r.createSphereBufferInfo=H;var V=k(E);r.createSphereBuffers=V;var Y=U(M);r.createTruncatedConeBufferInfo=Y;var q=k(M);r.createTruncatedConeBuffers=q;var K=U(j);r.createXYQuadBufferInfo=K;var $=k(j);r.createXYQuadBuffers=$;var Z=U(g);r.createCrescentBufferInfo=Z;var J=k(g);r.createCrescentBuffers=J;var Q=U(P);r.createCylinderBufferInfo=Q;var tt=k(P);r.createCylinderBuffers=tt;var rt=U(R);r.createTorusBufferInfo=rt;var et=k(R);r.createTorusBuffers=et;var nt=U(z);r.createDiscBufferInfo=nt;var ot=k(z);r.createDiscBuffers=ot;var ut=Z;r.createCresentBufferInfo=ut;var it=J;r.createCresentBuffers=it;var at=g;r.createCresentVertices=at},function(t,r,e){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}r.__esModule=!0;var o={addExtensionsToContext:!0,getContext:!0,getWebGLContext:!0,resizeCanvasToDisplaySize:!0,setDefaults:!0,attributes:!0,textures:!0,utils:!0,draw:!0,framebuffers:!0,programs:!0,typedarrays:!0,vertexArrays:!0};r.addExtensionsToContext=x,r.framebuffers=r.draw=r.attributes=void 0,r.getContext=function(t,r){return function(t,r){for(var e=["webgl2","webgl","experimental-webgl"],n=null,o=0;o<e.length;++o)if(n=t.getContext(e[o],r)){d.addExtensionsToContext&&x(n);break}return n}(t,r)},r.getWebGLContext=function(t,r){return function(t,r){for(var e=["webgl","experimental-webgl"],n=null,o=0;o<e.length;++o)if(n=t.getContext(e[o],r)){d.addExtensionsToContext&&x(n);break}return n}(t,r)},r.programs=void 0,r.resizeCanvasToDisplaySize=function(t,r){r=r||1,r=Math.max(0,r);var e=t.clientWidth*r|0,n=t.clientHeight*r|0;if(t.width!==e||t.height!==n)return t.width=e,t.height=n,!0;return!1},r.setDefaults=function(t){a.copyExistingProperties(t,d),u.setAttributeDefaults_(t),i.setTextureDefaults_(t)},r.vertexArrays=r.utils=r.typedarrays=r.textures=void 0;var u=m(e(6));r.attributes=u,Object.keys(u).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(o,t)||t in r&&r[t]===u[t]||(r[t]=u[t]))}));var i=m(e(7));r.textures=i,Object.keys(i).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(o,t)||t in r&&r[t]===i[t]||(r[t]=i[t]))}));var a=m(e(0)),f=m(e(3));r.utils=f,Object.keys(f).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(o,t)||t in r&&r[t]===f[t]||(r[t]=f[t]))}));var c=m(e(11));r.draw=c,Object.keys(c).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(o,t)||t in r&&r[t]===c[t]||(r[t]=c[t]))}));var l=m(e(12));r.framebuffers=l,Object.keys(l).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(o,t)||t in r&&r[t]===l[t]||(r[t]=l[t]))}));var s=m(e(4));r.programs=s,Object.keys(s).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(o,t)||t in r&&r[t]===s[t]||(r[t]=s[t]))}));var v=m(e(1));r.typedarrays=v,Object.keys(v).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(o,t)||t in r&&r[t]===v[t]||(r[t]=v[t]))}));var y=m(e(13));function b(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,e=new WeakMap;return(b=function(t){return t?e:r})(t)}function m(t,r){if(!r&&t&&t.__esModule)return t;if(null===t||"object"!==n(t)&&"function"!=typeof t)return{default:t};var e=b(r);if(e&&e.has(t))return e.get(t);var o={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if("default"!==i&&Object.prototype.hasOwnProperty.call(t,i)){var a=u?Object.getOwnPropertyDescriptor(t,i):null;a&&(a.get||a.set)?Object.defineProperty(o,i,a):o[i]=t[i]}return o.default=t,e&&e.set(t,o),o}r.vertexArrays=y,Object.keys(y).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(o,t)||t in r&&r[t]===y[t]||(r[t]=y[t]))}));var d={addExtensionsToContext:!0};var p=/^(.*?)_/;function h(t,r){f.glEnumToString(t,0);var e=t.getExtension(r);if(e){var n={},o=p.exec(r)[1],u="_"+o;for(var i in e){var c=e[i],l="function"==typeof c,s=l?o:u,v=i;i.endsWith(s)&&(v=i.substring(0,i.length-s.length)),void 0!==t[v]?l||t[v]===c||a.warn(v,t[v],c,i):l?t[v]=function(t){return function(){return t.apply(e,arguments)}}(c):(t[v]=c,n[v]=c)}n.constructor={name:e.constructor.name},f.glEnumToString(n,0)}return e}var w=["ANGLE_instanced_arrays","EXT_blend_minmax","EXT_color_buffer_float","EXT_color_buffer_half_float","EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2","EXT_frag_depth","EXT_sRGB","EXT_shader_texture_lod","EXT_texture_filter_anisotropic","OES_element_index_uint","OES_standard_derivatives","OES_texture_float","OES_texture_float_linear","OES_texture_half_float","OES_texture_half_float_linear","OES_vertex_array_object","WEBGL_color_buffer_float","WEBGL_compressed_texture_atc","WEBGL_compressed_texture_etc1","WEBGL_compressed_texture_pvrtc","WEBGL_compressed_texture_s3tc","WEBGL_compressed_texture_s3tc_srgb","WEBGL_depth_texture","WEBGL_draw_buffers"];function x(t){for(var r=0;r<w.length;++r)h(t,w[r])}},function(t,r,e){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}r.__esModule=!0,r.drawBufferInfo=i,r.drawObjectList=function(t,r){var e=null,n=null;r.forEach((function(r){if(!1!==r.active){var u=r.programInfo,a=r.vertexArrayInfo||r.bufferInfo,f=!1,c=void 0===r.type?4:r.type;u!==e&&(e=u,t.useProgram(u.program),f=!0),(f||a!==n)&&(n&&n.vertexArrayObject&&!a.vertexArrayObject&&t.bindVertexArray(null),n=a,o.setBuffersAndAttributes(t,u,a)),o.setUniforms(u,r.uniforms),i(t,a,c,r.count,r.offset,r.instanceCount)}})),n&&n.vertexArrayObject&&t.bindVertexArray(null)};var o=function(t,r){if(!r&&t&&t.__esModule)return t;if(null===t||"object"!==n(t)&&"function"!=typeof t)return{default:t};var e=u(r);if(e&&e.has(t))return e.get(t);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var f=i?Object.getOwnPropertyDescriptor(t,a):null;f&&(f.get||f.set)?Object.defineProperty(o,a,f):o[a]=t[a]}o.default=t,e&&e.set(t,o);return o}(e(4));function u(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,e=new WeakMap;return(u=function(t){return t?e:r})(t)}function i(t,r,e,n,o,u){e=void 0===e?4:e;var i=r.indices,a=r.elementType,f=void 0===n?r.numElements:n;o=void 0===o?0:o,a||i?void 0!==u?t.drawElementsInstanced(e,f,void 0===a?5123:r.elementType,o,u):t.drawElements(e,f,void 0===a?5123:r.elementType,o):void 0!==u?t.drawArraysInstanced(e,o,f,u):t.drawArrays(e,o,f)}},function(t,r,e){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}r.__esModule=!0,r.bindFramebufferInfo=function(t,r,e){e=e||36160,r?(t.bindFramebuffer(e,r.framebuffer),t.viewport(0,0,r.width,r.height)):(t.bindFramebuffer(e,null),t.viewport(0,0,t.drawingBufferWidth,t.drawingBufferHeight))},r.createFramebufferInfo=function(t,r,e,n){var i=36160,a=t.createFramebuffer();t.bindFramebuffer(i,a),e=e||t.drawingBufferWidth,n=n||t.drawingBufferHeight;var c=[],s={framebuffer:a,attachments:[],width:e,height:n};(r=r||m).forEach((function(r,a){var v=r.attachment,m=r.samples,h=r.format,w=r.attachmentPoint||function(t,r){return d[t]||d[r]}(h,r.internalFormat);if(w||(w=l+a),function(t){return t>=l&&t<36096}(w)&&c.push(w),!v)if(void 0!==m||function(t){return p[t]}(h))v=t.createRenderbuffer(),t.bindRenderbuffer(f,v),m>1?t.renderbufferStorageMultisample(f,m,h,e,n):t.renderbufferStorage(f,h,e,n);else{var x=Object.assign({},r);x.width=e,x.height=n,void 0===x.auto&&(x.auto=!1,x.min=x.min||x.minMag||b,x.mag=x.mag||x.minMag||b,x.wrapS=x.wrapS||x.wrap||y,x.wrapT=x.wrapT||x.wrap||y),v=o.createTexture(t,x)}if(u.isRenderbuffer(t,v))t.framebufferRenderbuffer(i,w,f,v);else{if(!u.isTexture(t,v))throw new Error("unknown attachment type");void 0!==r.layer?t.framebufferTextureLayer(i,w,v,r.level||0,r.layer):t.framebufferTexture2D(i,w,r.target||3553,v,r.level||0)}s.attachments.push(v)})),t.drawBuffers&&t.drawBuffers(c);return s},r.resizeFramebufferInfo=function(t,r,e,n,i){n=n||t.drawingBufferWidth,i=i||t.drawingBufferHeight,r.width=n,r.height=i,(e=e||m).forEach((function(e,a){var c=r.attachments[a],l=e.format,s=e.samples;if(void 0!==s||u.isRenderbuffer(t,c))t.bindRenderbuffer(f,c),s>1?t.renderbufferStorageMultisample(f,s,l,n,i):t.renderbufferStorage(f,l,n,i);else{if(!u.isTexture(t,c))throw new Error("unknown attachment type");o.resizeTexture(t,c,e,n,i)}}))};var o=a(e(7)),u=a(e(0));function i(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,e=new WeakMap;return(i=function(t){return t?e:r})(t)}function a(t,r){if(!r&&t&&t.__esModule)return t;if(null===t||"object"!==n(t)&&"function"!=typeof t)return{default:t};var e=i(r);if(e&&e.has(t))return e.get(t);var o={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var f=u?Object.getOwnPropertyDescriptor(t,a):null;f&&(f.get||f.set)?Object.defineProperty(o,a,f):o[a]=t[a]}return o.default=t,e&&e.set(t,o),o}var f=36161,c=34041,l=36064,s=36096,v=33306,y=33071,b=9729,m=[{format:6408,type:5121,min:b,wrap:y},{format:c}],d={};d[34041]=v,d[6401]=36128,d[36168]=36128,d[6402]=s,d[33189]=s,d[33190]=s,d[36012]=s,d[35056]=v,d[36013]=v;var p={};p[32854]=!0,p[32855]=!0,p[36194]=!0,p[34041]=!0,p[33189]=!0,p[6401]=!0,p[36168]=!0},function(t,r,e){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}r.__esModule=!0,r.createVAOAndSetAttributes=i,r.createVAOFromBufferInfo=function(t,r,e){return i(t,r.attribSetters||r,e.attribs,e.indices)},r.createVertexArrayInfo=function(t,r,e){var n=t.createVertexArray();t.bindVertexArray(n),r.length||(r=[r]);return r.forEach((function(r){o.setBuffersAndAttributes(t,r,e)})),t.bindVertexArray(null),{numElements:e.numElements,elementType:e.elementType,vertexArrayObject:n}};var o=function(t,r){if(!r&&t&&t.__esModule)return t;if(null===t||"object"!==n(t)&&"function"!=typeof t)return{default:t};var e=u(r);if(e&&e.has(t))return e.get(t);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var f=i?Object.getOwnPropertyDescriptor(t,a):null;f&&(f.get||f.set)?Object.defineProperty(o,a,f):o[a]=t[a]}o.default=t,e&&e.set(t,o);return o}(e(4));function u(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,e=new WeakMap;return(u=function(t){return t?e:r})(t)}function i(t,r,e,n){var u=t.createVertexArray();return t.bindVertexArray(u),o.setAttributes(r,e),n&&t.bindBuffer(34963,n),t.bindVertexArray(null),u}}])}));